/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./res/configs/climates.json":
/*!***********************************!*\
  !*** ./res/configs/climates.json ***!
  \***********************************/
/*! exports provided: maps, characteristics, seeds, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"maps\\\":{\\\"altepetl\\\":[3759,1137,1141,1901,1926,3597],\\\"andarum\\\":[1730,1387,2063,2056,180],\\\"cold\\\":[198,1101,2761,2065,2064,114,2020,2066,2055,2782,140,150,122],\\\"cold-swamp\\\":[4151,4152,2320,2324,2308,2310,2524,3402,111,708,712,1708,1711,1712],\\\"desert\\\":[1350,3081,3100,1368,3328,3326,3327,3325,3315],\\\"karka-han\\\":[35,1235,1084,36,1788,2546,1230,1219,901,276,900,3533,3535,3534,3738,3737],\\\"mythar\\\":[257,246,339,3594,3595,3596,1924],\\\"mythar-north-forest\\\":[3765,331,3766,268,330,332,253],\\\"nithal\\\":[574,575,600,730,731,845,599,1761,1675,1858,1860,1858,1876,1984,2391],\\\"north\\\":[229,2762,1100,226,128,1058,1975,121,2536,151,9,725,726,727,37,1057,10,84,38,8,2520,2730,116,4,110,115,244],\\\"south\\\":[701,3758,500,576,4185,1116,347,344,348,356,4155,223,222,214,33,361,4154,357],\\\"torneg\\\":[137,1,138,11,3,631,632,2887,579,368,12,1062,333,3300,3736,1131,3734,3735,2029,2,1111,1115,3733,1060,1108,1263,1285,3361,1267],\\\"tuzmer\\\":[1233,630,1262,1607,589,1349,1154,1167,1348,3598,1613,1159],\\\"warm-swamp\\\":[3136,3135,3137,3138,3209,1448,1449,1399,1458],\\\"witches\\\":[1293,1202,1294,1297,4049,4050,4048,4052,4051]},\\\"characteristics\\\":{\\\"cloudiness\\\":{\\\"default\\\":[1,1,1,1],\\\"altepetl\\\":[0.5,0.5,0.5,0.5],\\\"andarum\\\":[1.2,1.2,1.5,1.2],\\\"cold\\\":[1,1,1,1],\\\"cold-swamp\\\":[1,1,1,1],\\\"desert\\\":[0.5,0.5,0.5,0.5],\\\"karka-han\\\":[1.1,1.1,1.1,1],\\\"mythar\\\":[1,1,1,1],\\\"mythar-north-forest\\\":[1.2,1.2,1.2,1.2],\\\"nithal\\\":[1,1,1,1.2],\\\"north\\\":[1,1,1,1],\\\"south\\\":[0.1,0.1,0.1,0.1],\\\"torneg\\\":[0.9,0.9,0.9,0.9],\\\"tuzmer\\\":[0.5,0.5,0.5,0.5],\\\"warm-swamp\\\":[1,1,1,1],\\\"witches\\\":[1.1,1.1,1.1,1.1]},\\\"humidity\\\":{\\\"default\\\":[1,1,1,1],\\\"altepetl\\\":[1.1,1.1,1.1,1.1],\\\"andarum\\\":[0.9,0.9,1.2,0.9],\\\"cold\\\":[1,1,1,1],\\\"cold-swamp\\\":[1.3,1.3,1.3,1.3],\\\"desert\\\":[0.5,0.5,0.5,0.7],\\\"karka-han\\\":[1,1,1,1],\\\"mythar\\\":[1.3,1,1.3,1.3],\\\"mythar-north-forest\\\":[1.3,1,1.3,1.3],\\\"nithal\\\":[0.9,0.8,0.9,0.9],\\\"north\\\":[1.1,1.1,1.1,1.1],\\\"south\\\":[1,1,1,1],\\\"torneg\\\":[1.1,1.1,1.1,1.1],\\\"tuzmer\\\":[1,1,1,1],\\\"warm-swamp\\\":[1.3,1.3,1.3,1.3],\\\"witches\\\":[0.9,0.9,0.9,0.9]},\\\"temperature\\\":{\\\"default\\\":[0,0,0,0],\\\"altepetl\\\":[10,5,10,20],\\\"andarum\\\":[-20,-20,-30,-20],\\\"cold\\\":[-10,-10,-10,-10],\\\"cold-swamp\\\":[-10,-10,-10,-10],\\\"desert\\\":[30,30,30,20],\\\"karka-han\\\":[-5,0,-5,-5],\\\"mythar\\\":[0,0,0,5],\\\"mythar-north-forest\\\":[0,0,0,0],\\\"nithal\\\":[5,0,5,5],\\\"north\\\":[0,0,0,0],\\\"south\\\":[0,0,0,0],\\\"torneg\\\":[0,0,0,0],\\\"tuzmer\\\":[10,20,20,20],\\\"warm-swamp\\\":[0,0,0,0],\\\"witches\\\":[0,0,0,0]}},\\\"seeds\\\":{\\\"default\\\":1,\\\"altepetl\\\":2,\\\"andarum\\\":3,\\\"cold\\\":4,\\\"cold-swamp\\\":5,\\\"desert\\\":6,\\\"karka-han\\\":7,\\\"mythar\\\":8,\\\"mythar-north-forest\\\":9,\\\"nithal\\\":10,\\\"north\\\":11,\\\"south\\\":12,\\\"torneg\\\":13,\\\"tuzmer\\\":14,\\\"warm-swamp\\\":15,\\\"witches\\\":16}}\");\n\n//# sourceURL=webpack:///./res/configs/climates.json?");

/***/ }),

/***/ "./res/configs/lvl-names.json":
/*!************************************!*\
  !*** ./res/configs/lvl-names.json ***!
  \************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"[\\\"Ciułacz\\\",\\\"Łowca Wilków\\\",\\\"Tropiciel Zulusów\\\",\\\"Poganiacz Goblinów\\\",\\\"Piętno Orków\\\",\\\"Miłośnik Harpii\\\",\\\"Rezun Olbrzymów\\\",\\\"Hycel Gnolli\\\",\\\"Koszmar Tolloków\\\",\\\"Magazynier Pełną Gębą\\\",\\\"Zguba Minotaurów\\\",\\\"Niszczyciel Szkieletów\\\",\\\"Treser Centaurów\\\",\\\"Nieustraszony Pogromca Korsarzy\\\",\\\"Tańczący z Mumiami\\\",\\\"Szabrownik Wraków\\\",\\\"Gobliński Kat\\\",\\\"Postrach Berserkerów\\\",\\\"Władca Kazamatów\\\",\\\"Młot na Czarownice\\\",\\\"Dręczyciel Praorków\\\",\\\"Zguba Czarnej Gwardii\\\",\\\"Poskramiacz Furboli\\\",\\\"Egzekutor Myświórów\\\",\\\"Wielki Inkwizytor\\\",\\\"Zaklinacz Arachnidów\\\",\\\"Kat Demonisa\\\",\\\"Oprawca Maddoków\\\",\\\"Potomek Najwyższych\\\",\\\"Władca Puszczy\\\",\\\"Konkwistador\\\",\\\"Ewokator Duchów\\\",\\\"Odkrywca Reliktów\\\",\\\"Smocza Krew\\\",\\\"Piekielny Jeźdźca\\\",\\\"Ponury Żniwiarz\\\",\\\"Gwardzista Piekieł\\\"]\");\n\n//# sourceURL=webpack:///./res/configs/lvl-names.json?");

/***/ }),

/***/ "./res/configs/map-exceptions.json":
/*!*****************************************!*\
  !*** ./res/configs/map-exceptions.json ***!
  \*****************************************/
/*! exports provided: indoor, outdoor, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"indoor\\\":[3459,3969],\\\"outdoor\\\":[1862]}\");\n\n//# sourceURL=webpack:///./res/configs/map-exceptions.json?");

/***/ }),

/***/ "./res/configs/maps.json":
/*!*******************************!*\
  !*** ./res/configs/maps.json ***!
  \*******************************/
/*! exports provided: spring, summer, autumn, winter, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"spring\\\":{},\\\"summer\\\":{},\\\"autumn\\\":{},\\\"winter\\\":{\\\"1\\\":\\\"/obrazki/miasta/zima-ithan.png\\\",\\\"2\\\":\\\"/obrazki/miasta/zima-torneg.png\\\",\\\"9\\\":\\\"/obrazki/miasta/zima-werbin.png\\\",\\\"33\\\":\\\"/obrazki/miasta/zima-eder.png\\\",\\\"35\\\":\\\"/obrazki/miasta/zima-karka-han.png\\\",\\\"257\\\":\\\"/obrazki/miasta/zima-mythar.png\\\",\\\"574\\\":\\\"/obrazki/miasta/zima-nithal.png\\\"},\\\"default\\\":{\\\"8\\\":\\\"#res/img/maps/Zniszczone Opactwo.png\\\",\\\"9\\\":\\\"#res/img/maps/Werbin.png\\\",\\\"11\\\":\\\"#res/img/maps/Dolina Yss.png\\\",\\\"12\\\":\\\"#res/img/maps/Stare Ruiny.png\\\",\\\"167\\\":\\\"#res/img/maps/Przeklęty Zamek - wejście południowe.png\\\",\\\"168\\\":\\\"#res/img/maps/Przeklęty Zamek - wejście północne.png\\\",\\\"169\\\":\\\"#res/img/maps/Przeklęty Zamek - wejście wschodnie.png\\\",\\\"170\\\":\\\"#res/img/maps/Przeklęty Zamek - podziemia północne.png\\\",\\\"171\\\":\\\"#res/img/maps/Przeklęty Zamek - podziemia południowe.png\\\",\\\"172\\\":\\\"#res/img/maps/Przeklęty Zamek - zbrojownia.png\\\",\\\"174\\\":\\\"#res/img/maps/Przeklęty Zamek - sala zgromadzeń.png\\\",\\\"175\\\":\\\"#res/img/maps/Przeklęty Zamek p.1.png\\\",\\\"290\\\":\\\"#res/img/maps/Opactwo.png\\\",\\\"291\\\":\\\"#res/img/maps/Opactwo p.1.png\\\",\\\"292\\\":\\\"#res/img/maps/Opactwo - piwnica.png\\\",\\\"864\\\":\\\"#res/img/maps/Akademia wojskowa - piwnica p.2.png\\\",\\\"866\\\":\\\"#res/img/maps/Cytadela p.1.png\\\",\\\"3246\\\":\\\"#res/img/maps/Zapomniana kopalnia p.1.png\\\",\\\"3247\\\":\\\"#res/img/maps/Zapomniana kopalnia p.2.png\\\",\\\"3248\\\":\\\"#res/img/maps/Zapomniana kopalnia p.3.png\\\",\\\"3741\\\":\\\"#res/img/maps/Przeklęty Zamek p.2.png\\\",\\\"3742\\\":\\\"#res/img/maps/Przeklęty Zamek - komnata.png\\\"}}\");\n\n//# sourceURL=webpack:///./res/configs/maps.json?");

/***/ }),

/***/ "./res/configs/permissions.json":
/*!**************************************!*\
  !*** ./res/configs/permissions.json ***!
  \**************************************/
/*! exports provided: radny, narrator, special, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"radny\\\":[\\\"Umbrael Regis\\\",\\\"Astratas\\\"],\\\"narrator\\\":[\\\"Karl Steinhoff\\\",\\\"Materios Dragonius\\\",\\\"Rothe\\\",\\\"Argetus\\\",\\\"Kamivis\\\",\\\"Yao Shasamo\\\",\\\"Rothen\\\"],\\\"special\\\":[\\\"Leira Elamshin\\\",\\\"Sihaya\\\",\\\"Lechi Chucherko\\\",\\\"Ath`Lar Draa`Ilythiiri\\\",\\\"Aktibro\\\",\\\"Shiraya\\\",\\\"Minstrella\\\",\\\"Noys Hollyhook-Rumore\\\",\\\"Mateusz z Rocevaux\\\",\\\"Korano Ligatur\\\",\\\"Kris Aphalon\\\",\\\"Zireath\\\",\\\"Anward\\\",\\\"Ney Talleyrand\\\"]}\");\n\n//# sourceURL=webpack:///./res/configs/permissions.json?");

/***/ }),

/***/ "./res/configs/vips.json":
/*!*******************************!*\
  !*** ./res/configs/vips.json ***!
  \*******************************/
/*! exports provided: 16, 50, 319, 513, 1558, 2230, 2720, 3077, 4146, 6749, 6901, 7422, 9226, 9565, 10222, 10372, 10406, 10430, 10473, 10523, 10880, 12002, 12932, 13438, 13931, 14615, 15098, 15746, 16089, 16372, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"16\\\":\\\"Teźa\\\",\\\"50\\\":\\\"Mulher Má\\\",\\\"319\\\":\\\"Niecny drow\\\",\\\"513\\\":\\\"Zbieracz gumijagód\\\",\\\"1558\\\":\\\"Zielarka\\\",\\\"2230\\\":\\\"Mhroczniś\\\",\\\"2720\\\":\\\"Fochnisia\\\",\\\"3077\\\":\\\"Siewca Wiatru\\\",\\\"4146\\\":\\\"Gumitruskawka\\\",\\\"6749\\\":\\\"Przezacna\\\",\\\"6901\\\":\\\"Zło wcielone\\\",\\\"7422\\\":\\\"Mistrz pióra\\\",\\\"9226\\\":\\\"Zadumany\\\",\\\"9565\\\":\\\"Donna Amadonna\\\",\\\"10222\\\":\\\"Władca Ciemności\\\",\\\"10372\\\":\\\"Boski Wiatr\\\",\\\"10406\\\":\\\"Latorośle drowa\\\",\\\"10430\\\":\\\"Wschodzące Słońce\\\",\\\"10473\\\":\\\"Wędrowny Rysownik\\\",\\\"10523\\\":\\\"Lux Aeterna\\\",\\\"10880\\\":\\\"Boski Wiatr\\\",\\\"12002\\\":\\\"Głodny hobbit\\\",\\\"12932\\\":\\\"Latorośle drowa\\\",\\\"13438\\\":\\\"Zakuty łeb\\\",\\\"13931\\\":\\\"Wilcza Zamieć\\\",\\\"14615\\\":\\\"Iluzjonista\\\",\\\"15098\\\":\\\"Siostra Płomieni\\\",\\\"15746\\\":\\\"Miłośniczka kocimiętki\\\",\\\"16089\\\":\\\"Chochlica-ponczlica\\\",\\\"16372\\\":\\\"Chluba Lolth\\\"}\");\n\n//# sourceURL=webpack:///./res/configs/vips.json?");

/***/ }),

/***/ "./res/descriptions/weather.json":
/*!***************************************!*\
  !*** ./res/descriptions/weather.json ***!
  \***************************************/
/*! exports provided: clear-day, day-cloud-small, day-cloud-big, day-rain, day-storm, day-rain-with-snow, day-snow, overcast, rain-light, rain, storm, rain-with-snow, snow, snow-storm, clear-night, night-cloud-small, night-cloud-big, night-rain, night-storm, night-rain-with-snow, night-snow, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"clear-day\\\":[\\\"Promienie słońca intensywnie rozświetlają horyzont. Czyste, błękitne niebo koi oczy, odrywa od szarej rzeczywistości.\\\",\\\"Słońce zawieszone na bezchmurnym niebie świeci niezwykle jasno.\\\",\\\"Po bezchmurnym niebie wędruje słońce, otulając wszystkich swoimi ciepłymi promieniami.\\\"],\\\"day-cloud-small\\\":[\\\"Słońce pięknie świeci, po niebie wędrują małe obłoczki, rzucające na ziemię swe cienie. Słaby wiatr orzeźwia wędrowców.\\\",\\\"Na niebie niewielka ilość chmurek. Promienie słoneczne bez trudu przebijają się przez nie, a cienie majestatycznie przesuwają się po ziemi.\\\",\\\"Słońce, otuliwszy się pojedynczymi chmurkami, wypuszcza na świat swoje promienie, obdarzając go przyjemnym ciepłem.\\\"],\\\"day-cloud-big\\\":[\\\"Słońce skryło się pod pierzyną białych chmur, przez którą tu i ówdzie przebijają się jasne promyki. Delikatny wiatr szeleści liśćmi.\\\",\\\"Duże, przejrzyste chmury przesuwają się leniwie po sklepieniu. Promienie słoneczne przebijają się przez obłoki. \\\",\\\"Złociste promienie słońca przebijają się przez śnieżnobiałe chmury. Przyjemny wiatr roznosi cudowny zapach kwiatów.\\\"],\\\"day-rain\\\":[\\\"Słońce częściowo skryło się za chmurami, które swoją szarością pokryły błękit nieba. Krople deszczu ociężale spadają na ziemię.\\\",\\\"Słońce jest ledwie widoczne zza ciężkich, deszczowych chmur. Z nieba cieknie słaby deszcz.\\\",\\\"Szare, deszczowe chmury starają się zasłonić słońce. Drobne krople deszczu rozpryskują się, opadając na zielone liście drzew.\\\"],\\\"day-storm\\\":[\\\"Z nieba, jak szalone, spadają kolejne krople deszczu. Niebo przeszyła jasna smuga światła, której towarzyszył potężny grzmot.\\\",\\\"Ciężkie burzowe chmury spowijają niebo. Dojrzenie słońca przez gęsto padający deszcz i chmury graniczy niemal z cudem.\\\",\\\"Słońce usilnie stara się przebić przez gęste, burzowe chmury. Woda deszczowa w rynnach i beczkach się już przelewa, z oddali słychać serię grzmotów.\\\"],\\\"day-rain-with-snow\\\":[\\\"Przez szare chmury dostrzec można jeszcze promyki słońca. Kolejnym kroplom deszczu towarzyszy śnieg. Wiatr wesoło kołysze gałęźmi drzew.\\\",\\\"Spore zachmurzenie, rzęsiście padający deszcz, mieszający się z płatkami śniegu. Miasto oświetlane przez promienie słońca wygląda przepięknie...\\\",\\\"Z szarych chmur zakrywających niebo wydobywa się deszcz ze śniegiem. Powietrze jest bardzo zimne, a wiatr porywisty.\\\"],\\\"day-snow\\\":[\\\"Mimo kilku promyków słońca, nie jest łatwo odczuć ciepło. Śnieg sypiący z nieba przykrywa doliny i miasta warstwą puchu.\\\",\\\"Zamieć śnieżna pokrywa świat białym puchem. Mimo świecącego słońca, panuje mróz, wieją bardzo silne wiatry. Dzikie szlaki i ulice miast opustoszały.\\\",\\\"Lekkie chmurki gęsto ścielą niebo. Promienie słoneczne przebijają się przez nie, oświetlając padający w dużej ilości śnieg.\\\"],\\\"overcast\\\":[\\\"Białe chmury pokrywają niebo. Wieje spokojny wiatr porywający opadłe listki drzew. Mimo braku słońca jest dość ciepło.\\\",\\\"Błękitne niebo przyozdobiła chmara białych kłębków. Wiatr wesoło hula wśród liści i gałęzi drzew.\\\",\\\"Na niebie brak słońca. Jedynie niewielkie chmurki szybko przemierzają sklepienie.\\\"],\\\"rain-light\\\":[\\\"Niebo nad krainą zrobiło się szare. Z ciemnych chmur zaczął padać deszcz, a wszelaka zwierzyna schroniła się w jaskiniach, zaś ludzie ukryli się swych domostwach.\\\",\\\"Z pozornie małych chmurek wesoło spadają ku ziemi kropelki wody. Wiatr porywa do tańca zarówno liście drzew jak i włosy, kapelusze, płaszcze oraz kaptury podróżników.\\\",\\\"Lekkie zachmurzenie. Słońce chowa się już za horyzontem. Deszcz siąpi z nieba.\\\"],\\\"rain\\\":[\\\"Istne oberwanie chmury. Szary, gęsty puch staje się przyczyną ulewnego deszczu. Porywisty wiatr kołysze drzewami.\\\",\\\"Niebem zawładnęła szarość. Z większych i mniejszych chmur pędzą ku ziemi kolejne deszczowe krople.\\\",\\\"Ciężkie chmury deszczowe. Z nieba gęsto spadają duże krople wody.\\\"],\\\"storm\\\":[\\\"Rozpętała się prawdziwa burza. Z nieba seriami spadają strugi deszczu, horyzont rozświetlają błyskawice, a opadające krople zagłuszają grzmoty.\\\",\\\"Coraz większa ilość chmur przypływa ze wschodu krainy. Ociężałe krople spadają na ziemię. Niebo przeszyła błyskawica, a grzmot jej towarzyszący, rozległ się po całej okolicy.\\\",\\\"Burzowe chmury, w oddali słychać grzmoty, niebo rozświetlają błyskawice. Życie mieszkańcom utrudnia ponadto ciężki deszcz i silny wiatr.\\\"],\\\"rain-with-snow\\\":[\\\"Z ciemnych chmur pada ulewny deszcz, któremu towarzyszą nieliczne płatki śniegu. Biały puch topnieje jeszcze przed opadnięciem na ziemię.\\\",\\\"Z ciemnych chmur powoli opadają ku ziemi kolejne krople deszczu i płatki śniegu. Wiatr ugina drzewa, a te jakby składają pokłony, chyląc się aż do ziemi.\\\",\\\"Wielkie, ciemne chmury zaścielają gęsto sklepienie. Z nieba leje się potężny deszcz, a gdzieniegdzie można dostrzec opadające płatki śniegu.\\\"],\\\"snow\\\":[\\\"Powietrze staje się bardzo zimne, woda w kałużach zamarza. Obfite opady śniegu znacznie zmniejszają pole widzenia.\\\",\\\"Białe, pierzaste chmurki suną po niebie. Płatki śniegu wesoło wirują na wietrze, opadając powoli na ziemię.\\\",\\\"Lekko zachmurzone niebo. Słońce już niedługo schowa się za horyzontem. Z nieba gęsto spadają białe płatki śniegu.\\\"],\\\"snow-storm\\\":[\\\"Burza śnieżna znęca się nad miejscową fauną i florą. Mróz, śnieg i pioruny zniechęcają ludzi do opuszczania swych ciepłych, bezpiecznych domów.\\\",\\\"Z ciemnych chmur wariacko suną ku ziemi płatki śniegu. Jasna błyskawica od czasu do czasu przeszywa niebo. Wiatr pędzi jak szalony, choć sam nie wie dokąd. Grzmoty słychać w najgłębszych zakątkach krainy.\\\",\\\"Ciężkie i ciemne chmury. W oddali słychać potężne grzmoty, którym towarzyszą oślepiające błyski. Brak jednak deszczu, jedynie gęsto sypiący śnieg daje się we znaki.\\\"],\\\"clear-night\\\":[\\\"Nastała ciepła, bezwietrzna noc. Księżyc świeci jasno, a na czystym niebie ukazują się tysiące gwiazd.\\\",\\\"Księżyc tej nocy postanowił pokazać swe lico. Towarzyszące mu gwiazdy iskrzą wesoło na bezchmurnym niebie.\\\",\\\"Bezchmurne, gwieździste niebo. Wysoko zawieszony księżyc jasno oświetla całą krainę.\\\"],\\\"night-cloud-small\\\":[\\\"Księżyc co jakiś czas ukrywa się za małymi, białymi chmurami, rozświetlając je. Wieje łagodny wiatr, który nikomu nie jest w stanie przerwać snu.\\\",\\\"Księżyc nieśmiało wygląda zza chmurki. Ciemne niebo tu i ówdzie przyozdabiają jasne gwiazdy.\\\",\\\"Niewielkie zachmurzenie. Księżyc jasno świeci z góry. W tle doskonale są widoczne, przy słabym zachmurzeniu, gwiazdy.\\\"],\\\"night-cloud-big\\\":[\\\"Niebo nawiedziły jasne chmury, za którymi sprytnie schował się księżyc i większość gwiazd. Wiatr cicho zawodzi w najskrytszych zakątkach krainy.\\\",\\\"Duże, jasne chmury, przez które światło księżyca przebija się bez problemu, nie pozwalają dojrzeć gwiazd.\\\",\\\"Mimo przelotnych wiatrów, noc jest pogodna. Chmury skutecznie zakrywają księżyc i wszystkie gwiazdy.\\\"],\\\"night-rain\\\":[\\\"Chmury zakrywają księżyc. Mocny wiatr kołysze drzewami i rzuca liśćmi. Krople deszczu bezwładnie opadają na ziemię.\\\",\\\"Księżyc, podobnie jak gwiazdy, schował się pod pierzyną ciemnych chmur, z których spadają ku ziemi krople deszczu.\\\",\\\"Spore zachmurzenie. Księżyc prawie niewidoczny, acz jego światło przebija się przez chmury. Siąpi deszcz.\\\"],\\\"night-storm\\\":[\\\"Nastała burzliwa noc. Pioruny, szum wiatru i rozbijające się o okna oraz dachy krople, mało komu pozwalają zasnąć.\\\",\\\"Ciemne chmury skryły granat nieba. Również księżyc i gwiazdy zawieruszyły się gdzieś wśród szarości. Błyskawice przyszywające niebo niosą ze sobą kolejne grzmoty i coraz większe krople deszczu.\\\",\\\"Ciężkie burzowe chmury wyglądają przerażająco. Ani śladu księżyca, pada za to gęsty deszcz.\\\"],\\\"night-rain-with-snow\\\":[\\\"Z pozornie małych chmurek spadają ku ziemi krople deszczu i śniegu. Księżyc wygląda zza przepływających białych chmur. Wiatr wesoło tańczy wśród gałęzi drzew.\\\",\\\"Słabe zachmurzenie. Księżyc jest doskonale widoczny, gwiazdy zaś tylko w niektórych momentach. Niewielkie opady śniegu i deszczu.\\\",\\\"Noc jest bardzo chłodna, pada ulewny deszcz ze śniegiem, tworząc wielkie kałuże.\\\"],\\\"night-snow\\\":[\\\"Zamieć śnieżna i mróz towarzyszą tej nocy. Wieje bardzo silny wiatr, a biały puch pokrywa całą krainę.\\\",\\\"Księżyc, otuliwszy się pierzynką chmur, skrył się wraz z gwiazdami. Płatki śniegu wesoło tańczą na wietrze, kolejno opadając na ziemię.\\\",\\\"Duże ilości niewielkich, jasnych chmurek. Gwiazdy na przemian pojawiają się i znikają, a z nieba gęsto sypie śnieg.\\\"]}\");\n\n//# sourceURL=webpack:///./res/descriptions/weather.json?");

/***/ }),

/***/ "./res/descriptions/zodiac.json":
/*!**************************************!*\
  !*** ./res/descriptions/zodiac.json ***!
  \**************************************/
/*! exports provided: aries, taurus, gemini, cancer, leo, virgo, libra, scorpio, sagittarius, capricorn, aquarius, pisces, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"aries\\\":[\\\"Baran - Czerpanie mocy z czystej agresji wprawdzie wzmacnia magię ofensywną lecz destabilizuje pozostałe szkoły. Tworzenie portali staje się zbyt niebezpieczne.\\\",\\\"Podstawowe zaklęcia zniszczenia nie wymagają energii maga, jednak przemiana jest zupełnie zablokowana.\\\"],\\\"taurus\\\":[\\\"Byk - Stałość, rzeczowość i skupienie ułatwiają snucie wysoce skomplikowanych czarów.\\\",\\\"Do tworzenia magazynów energii potrzebny jest dowolny poziom zaklinania. Ich siła jest zależna od posiadanego poziomu.\\\"],\\\"gemini\\\":[\\\"Bliźnięta - Wszechstronna wiedza, obiektywizm i niezakłócona emocjami racjonalność, pozwalają skuteczniej przeciwstawiać się sile innych magów.\\\",\\\"Odrzucenie wzrasta o jeden poziom (arcymistrz zyskuje możliwość spętania mocy innego arcymistrza).\\\"],\\\"cancer\\\":[\\\"Rak - Instynkt i ciekawość sprzyjają zgłębianiu myśli innych oraz mechanik świata. Skupienie się na sprawach odległych naraża maga na niebezpieczeństwa.\\\",\\\"Myśli innych można czytać na poziomie mistrzowskim poznania. W zamian zablokowane jest odrzucenie.\\\"],\\\"leo\\\":[\\\"Lew - Stanowczość i autorytet pozwalają działać na wielką skalę, jednakże towarzysząca temu duma sprawia, iż przedsięwzięcia te są nieco przyziemne.\\\",\\\"Najsłabsza szkoła zostaje wzmocniona o jeden poziom, jednak możliwe jest korzystanie wyłącznie z elementów niższych. Brak efektu, jeżeli mag takowych nie posiada.\\\"],\\\"virgo\\\":[\\\"Panna - Czysta wręcz troska oraz pedantyczność stanowią idealną podstawę do pomocy zagrożonym życiom.\\\",\\\"Darmowe przywrócenie 3/5 jednego organizmu żywego dziennie. W zamian zablokowane jest zniszczenie.\\\"],\\\"libra\\\":[\\\"Waga - Ułatwione jest wyważenie zaklęć z użyciem ich pierwotnej mocy, która zostaje ustabilizowana.\\\",\\\"Zaklęcia na poziomie adepta przemiany nie wymagają energii, jednak zablokowane jest użycie elementów niższych.\\\"],\\\"scorpio\\\":[\\\"Skorpion - Ewokacja pozwala z łatwością sięgnąć po istoty, które dotychczas znajdowały się na granicy możliwości maga. Zgłębienie ich tajemnic ma jednak swój koszt.\\\",\\\"Przywołanie zwiększone jest o jeden poziom, ale mag może przyzwać o połowę stworzeń mniej. Zablokowane zostają elementy natury i równowagi.\\\"],\\\"sagittarius\\\":[\\\"Strzelec -  Entuzjazm, otwartość oraz szczerość znacząco ułatwiają współpracę z innymi.\\\",\\\"Umożliwia współpracę z magami posługującymi się innymi szkołami. Jeżeli posiadany jest już atrybut teoria magiczna, to podczas kooperacji zaklęcie maga z kosmosem wzrasta o jeden stopień.\\\"],\\\"capricorn\\\":[\\\"Koziorożec - Wytrwałe, zdyscyplinowane oraz ambitne dążenie do celu wprost prowadzą do czystego profesjonalizmu.\\\",\\\"Najlepiej rozwinięta szkoła, (inna niż w stopniu arcymistrzowskim) podniesiona zostaje o jeden poziom. W zamian reszta szkół spada o jeden poziom (lub w przypadku poziomu 1/5 zostaje zablokowana) Powyższe nie ma zastosowania, gdy nie ma jednej szkoły na poziomie wyższym niż inne. Podniesienie poziomu nie przekracza stopnia 5/5.\\\"],\\\"aquarius\\\":[\\\"Wodnik - Wynalazczość, niezależność oraz przekraczanie granic pozwalają zasmakować umiejętności, które dotychczas były niedostępne, aż do zatracenia.\\\",\\\"Szkoła z najwyższym poziomem zostaje zablokowana. Najsłabsza szkoła uzyskuje jej poziom. Brak efektu w przypadku szkół o równym poziomie bądź braku jednej, najsilniejszej szkoły.\\\"],\\\"pisces\\\":[\\\"Ryby - Ucieczka od rzeczywistości w iluzje, które stają się sztuką, znacząco wzmacniają możliwości maga. Jednakże złożoność wyobrażeń uniemożliwia kooperację z innymi.\\\",\\\"Podstawowe iluzje nie zużywają energii. Zablokowane korzystanie z atrybutu teoria magiczna.\\\"]}\");\n\n//# sourceURL=webpack:///./res/descriptions/zodiac.json?");

/***/ }),

/***/ "./src/chat/chat.js":
/*!**************************!*\
  !*** ./src/chat/chat.js ***!
  \**************************/
/*! exports provided: initChatMgr, registerChatCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initChatMgr\", function() { return initChatMgr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerChatCommand\", function() { return registerChatCommand; });\n/* harmony import */ var _permissions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../permissions */ \"./src/permissions.js\");\n/* harmony import */ var _drunkenness__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./drunkenness */ \"./src/chat/drunkenness.js\");\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../game-integration/loaders */ \"./src/game-integration/loaders.js\");\n\n\n\n\nconst commandsMap = {}\nconst commandsPublicMap = {}\n\nfunction fixUrl(text)\n{\n    const url = RegExp(/(https?)\\*Krzywi się\\.\\*(\\S+)/)\n    return text.replace(url, '$1:/$2')\n}\n\nfunction handleChatObj(ch)\n{\n    // change message by directly editing object passed as reference\n    const cmd = fetch_cmd(ch)\n    if (cmd)\n    {\n        const callback = fetch_callback(cmd, ch)\n        if (callback)\n        {\n            ch.t = fixUrl(ch.t)\n            log('[' + ch.k + '] ' + ch.n + ' -> ' + ch.t) //[which tab] author -> command //TODO\n\n            return callback(ch)\n        }\n    }\n    return true\n}\n\n\nfunction editNiMsg($msg, ch)\n{\n    $msg.addClass(ch.s)\n    const content = $msg.children().eq(2).contents()\n    $msg.children(2).addClass(ch.s)\n    for (let i = 0; i < content.length; i++)\n    {\n        const text = content.eq(i)\n        if (i === 0)\n            text.replaceWith(ch.t)\n        else\n            text.remove()\n    }\n    $msg.children().eq(0).contents().eq(0).replaceWith(ch.n)\n}\n\n\nfunction fetch_cmd(ch)\n{\n    if (ch.t[0] === '*')\n    {\n        const command = RegExp(/^\\*(\\S+)/).exec(ch.t)\n        //fixes bug with /dice, and presumably '* text' messages\n        if (command)\n            return command[1]\n    }\n}\n\nfunction fetch_callback(cmd, ch)\n{\n    if (commandsMap[cmd] && Object(_permissions__WEBPACK_IMPORTED_MODULE_0__[\"checkPermissionLvl\"])(ch.n))\n        return commandsMap[cmd]\n    else\n        return commandsPublicMap[cmd]\n}\n\nfunction run(arg)\n{\n    if (true)\n    {\n        const $msg = arg[0],\n            ch = arg[1]\n\n        if (ch.s !== 'abs' && ch.s !== '') return\n\n        const chatParse = handleChatObj(ch)\n        if (typeof chatParse === 'object')\n            editNiMsg($msg, ch)\n        else if (chatParse === false)\n            $msg.remove()\n    }\n    else\n    {}\n}\n\n\nfunction initChatMgr()\n{\n    if (true)\n    {\n        //if (typeof nerthus.mapDraw !== \"function\")\n        //    nerthus.mapDraw = Engine.map.draw\n\n        API.addCallbackToEvent('newMsg', run)\n        API.addCallbackToEvent('updateMsg', run)\n\n        const setAvatarData = Engine.chat.setAvatarData\n        Engine.chat.setAvatarData = function (tpl, d, pos)\n        {\n            if (d.n === '') return\n            return setAvatarData(tpl, d, pos)\n        }\n    }\n    else\n    {}\n    Object(_drunkenness__WEBPACK_IMPORTED_MODULE_1__[\"initChatDrunkenness\"])()\n}\n\nfunction registerChatCommand(name, func, isPublic)\n{\n    if (isPublic)\n        commandsPublicMap[name] = func\n    else\n        commandsMap[name] = func\n}\n\n\n//# sourceURL=webpack:///./src/chat/chat.js?");

/***/ }),

/***/ "./src/chat/commands.js":
/*!******************************!*\
  !*** ./src/chat/commands.js ***!
  \******************************/
/*! exports provided: initBasicChatCommands */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initBasicChatCommands\", function() { return initBasicChatCommands; });\n/* harmony import */ var _chat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat */ \"./src/chat/chat.js\");\n/* harmony import */ var _maps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../maps */ \"./src/maps.js\");\n/* harmony import */ var _npc_npc_actions_add__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../npc/npc-actions/add */ \"./src/npc/npc-actions/add.js\");\n/* harmony import */ var _npc_npc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../npc/npc */ \"./src/npc/npc.js\");\n/* harmony import */ var _npc_npc_actions_remove__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../npc/npc-actions/remove */ \"./src/npc/npc-actions/remove.js\");\n/* harmony import */ var _night_night__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../night/night */ \"./src/night/night.js\");\n/* harmony import */ var _npc_npc_actions_hide__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../npc/npc-actions/hide */ \"./src/npc/npc-actions/hide.js\");\n/* harmony import */ var _weather_weather__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../weather/weather */ \"./src/weather/weather.js\");\n\n\n\n\n\n\n\n\n\nfunction makeDialogTextWithSpeaker(str)\n{\n    str = str.split(' ').slice(1).join(' ').split(',')\n    return '«' + str[0] + '» ' + str.slice(1).join(',')\n}\n\nfunction nar1(ch)\n{\n    ch.s = 'nar'\n    ch.n = ''\n    ch.t = ch.t.replace(/^\\*nar1? /, '')\n    return ch\n}\n\nfunction nar2(ch)\n{\n    ch.s = 'nar2'\n    ch.n = ''\n    ch.t = ch.t.replace(/^\\*nar2 /, '')\n    return ch\n}\n\nfunction nar3(ch)\n{\n    ch.s = 'nar3'\n    ch.n = ''\n    ch.t = ch.t.replace(/^\\*nar3 /, '')\n    return ch\n}\n\nfunction dial1(ch)\n{\n    ch.s = 'dial1'\n    ch.n = ''\n    ch.t = makeDialogTextWithSpeaker(ch.t)\n    return ch\n}\n\nfunction dial2(ch)\n{\n    ch.s = 'dial2'\n    ch.n = ''\n    ch.t = makeDialogTextWithSpeaker(ch.t)\n    return ch\n}\n\nfunction dial3(ch)\n{\n    ch.s = 'dial3'\n    ch.n = ''\n    ch.t = makeDialogTextWithSpeaker(ch.t)\n    return ch\n}\n\nfunction dial666(ch)\n{\n    ch.s = 'dial666'\n    ch.n = ''\n    ch.t = makeDialogTextWithSpeaker(ch.t)\n    return ch\n}\n\nfunction sys(ch)\n{\n    ch.s = 'sys_comm'\n    ch.n = ''\n    ch.t = ch.t.replace(/^\\*sys /, '')\n    return ch\n}\n\nfunction map(ch)\n{\n    const cmd = ch.t.split(' ').slice(1).join(' ').split(',')\n    const mapUrl = cmd[0]\n    const mapId = cmd[1]\n    if (mapId)\n        Object(_maps__WEBPACK_IMPORTED_MODULE_1__[\"addToMapChangelist\"])(mapUrl, 2, mapId)\n    else\n        Object(_maps__WEBPACK_IMPORTED_MODULE_1__[\"addToMapChangelist\"])(mapUrl, 1)\n\n    Object(_maps__WEBPACK_IMPORTED_MODULE_1__[\"applyCurrentMapChange\"])()\n\n    return false\n}\n\nfunction resetMap(ch)\n{\n    const mapId = ch.t.split(' ').slice(1).join(' ')\n\n    Object(_maps__WEBPACK_IMPORTED_MODULE_1__[\"removeFromMapChangelist\"])(2, mapId)\n    Object(_maps__WEBPACK_IMPORTED_MODULE_1__[\"applyCurrentMapChange\"])()\n\n    return false\n}\n\nfunction light(ch)\n{\n    const arr = ch.t.split(' ')\n    arr.shift()\n    if (arr.length === 0) Object(_night_night__WEBPACK_IMPORTED_MODULE_5__[\"checkAndApplyNight\"])() // if no arguments\n    else\n    {\n        const argArr = arr.join(' ').split(',')\n        let opacity = argArr[0].trim()\n        const color = argArr[1] ? argArr[1].trim() : '#000'\n        opacity = parseFloat(opacity.replace(',', '.'))\n        Object(_night_night__WEBPACK_IMPORTED_MODULE_5__[\"changeLight\"])(1 - opacity, color, true)\n    }\n\n    return false\n}\n\nfunction addGraf(ch)\n{\n    //cmd[0]=x, cmd[1]=y, cmd[2]=url, cmd[3]=tip_text, cmd[4]=isCol, cmd[5]=map_id\n    const cmd = ch.t.split(' ').slice(1).join(' ').split(',')\n    const x = parseInt(cmd[0])\n    const y = parseInt(cmd[1])\n    const url = cmd[2]\n    const name = cmd[3]\n    const isCol = parseInt(cmd[4]) > 0\n    const mapId = parseInt(cmd[5])\n\n    Object(_npc_npc_actions_add__WEBPACK_IMPORTED_MODULE_2__[\"addNpcToList\"])(new _npc_npc__WEBPACK_IMPORTED_MODULE_3__[\"Npc\"](x, y, url, `<b>${name}</b>`, isCol), mapId)\n\n    return false\n}\n\nfunction delGraf(ch)\n{\n    const cmd = ch.t.split(' ')[1].split(',')\n    const x = parseInt(cmd[0])\n    const y = parseInt(cmd[1])\n    const mapId = parseInt(cmd[2])\n\n    Object(_npc_npc_actions_remove__WEBPACK_IMPORTED_MODULE_4__[\"removeNpc\"])(x, y, mapId)\n\n    return false\n}\n\nfunction hide(ch)\n{\n    const cmd = ch.t.split(' ')[1]\n    const id = parseInt(cmd)\n\n    Object(_npc_npc_actions_hide__WEBPACK_IMPORTED_MODULE_6__[\"hideGameNpc\"])(id)\n\n    return false\n}\n\nfunction weather(ch)\n{\n    const weatherName = ch.t.split(' ')[1]\n    Object(_weather_weather__WEBPACK_IMPORTED_MODULE_7__[\"setWeather\"])(weatherName)\n\n    return false\n}\n\nfunction me(ch)\n{\n    ch.s = 'me'\n    ch.n = ''\n    ch.t = ch.t.replace(/^\\*me /, '')\n    return ch\n}\n\nconst narratorCommands = {\n    'nar': nar1,\n    'nar1': nar1,\n    'nar2': nar2,\n    'nar3': nar3,\n    'dial': dial1,\n    'dial1': dial1,\n    'dial2': dial2,\n    'dial3': dial3,\n    'dial666': dial666,\n    'sys': sys,\n    'map': map,\n    'resetMap': resetMap,\n    'light': light,\n    'addGraf': addGraf,\n    'delGraf': delGraf,\n    'hide': hide,\n    'weather': weather\n}\nconst publicCommands = {\n    'me': me\n}\n\nfunction initBasicChatCommands()\n{\n    for (const cmd in narratorCommands)\n        Object(_chat__WEBPACK_IMPORTED_MODULE_0__[\"registerChatCommand\"])(cmd, narratorCommands[cmd], false)\n    for (const cmd in publicCommands)\n        Object(_chat__WEBPACK_IMPORTED_MODULE_0__[\"registerChatCommand\"])(cmd, publicCommands[cmd], true)\n}\n\n\n//# sourceURL=webpack:///./src/chat/commands.js?");

/***/ }),

/***/ "./src/chat/drunkenness.js":
/*!*********************************!*\
  !*** ./src/chat/drunkenness.js ***!
  \*********************************/
/*! exports provided: initChatDrunkenness */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initChatDrunkenness\", function() { return initChatDrunkenness; });\nlet intoxicationLvl = 0\nlet decayTimerID = null\n\nfunction decayTimerHandler()\n{\n    intoxicationLvl--\n    localStorage.setItem('nerthus-intoxication-lvl', intoxicationLvl)\n\n    if (intoxicationLvl < 1)\n    {\n        intoxicationLvl = 0\n        clearInterval(decayTimerID)\n        decayTimerID = null\n    }\n}\n\nfunction shuffleArray(array, cc) // sic\n{\n    var przestanek = 0\n    if (typeof cc == 'undefined') cc = 0\n    if (['.', ',', '?', '!'].lastIndexOf(array[array.length - 1]) > -1) przestanek = 1\n    for (var i = array.length - 1 - cc - przestanek; i > (0 + cc); i--)\n    {\n        var j = Math.floor(Math.random() * (i + 1 - cc) + cc)\n        var temp = array[i]\n        array[i] = array[j]\n        array[j] = temp\n    }\n    return array\n}\n\nfunction shuffleMessage(msg)\n{\n    if (intoxicationLvl === 0 || ['*/@'].indexOf(msg[0]) >= 0)\n        return msg\n\n    let t = []\n    switch (Math.floor(this.lvl / 10))\n    {\n        case 10:\n        case 9:\n            msg = '/me bełkota coś niezrozumiale.'\n            break\n        case 8:\n            msg = shuffleArray(msg.split(' ')).join(' ')\n        // fallthrough\n        case 7:\n            t = msg.split(', ')\n            for (const index in t)\n                t[index] = shuffleArray(t[index].split(' ')).join(' ')\n            msg = t.join(', ')\n        // fallthrough\n        case 6:\n            t = msg.split(', ')\n            for (const index in t)\n                t[index] = shuffleArray(t[index].split(' '), 1).join(' ')\n            msg = t.join(', ')\n        // fallthrough\n        case 5:\n            t = msg.split(' ')\n            for (const index in t)\n                if (t[index].length > 4)\n                    t[index] = shuffleArray(t[index].split('')).join('')\n            msg = t.join(' ')\n        // fallthrough\n        case 4:\n            t = msg.split(' ')\n            for (const index in t)\n                if (t[index].length > 5)\n                    t[index] = shuffleArray(t[index].split('')).join('')\n            msg = t.join(' ')\n        // fallthrough\n        case 3:\n            t = msg.split(' ')\n            for (const index in t)\n                if (t[index].length > 4)\n                    t[index] = shuffleArray(t[index].split(''), 1).join('')\n            msg = t.join(' ')\n        // fallthrough\n        case 2:\n            t = msg.split(' ')\n            for (const index in t)\n                if (t[index].length > 5)\n                    t[index] = shuffleArray(t[index].split(''), 1).join('')\n            msg = t.join(' ')\n        // fallthrough\n        case 1:\n            msg = msg.replace(/[.,:?!-]/g, ' *hik*')\n            break\n        case 0:\n            msg = msg.replace(/[.,:?!-]/g, '')\n    }\n    return msg\n}\n\nfunction commandContainsDrinkingAlcohol(command)\n{\n    const match = command.match(/^moveitem.*id=(\\d+)/)\n    if (match)\n    {\n        let item\n        if (true)\n        {\n            item = Engine.items.getItemById(match[1])\n        }\n        else\n        {}\n\n        if (item && (item.cl === 16) && // cl = 16 means it's consumable\n            item.stat.search('lvl=') > -1 &&\n            parseInt(item.stat.match(/lvl=([0-9]+)/)[1]) === 18\n        )\n            return true\n    }\n    return false\n}\n\nfunction initChatDrunkenness()\n{\n    const savedIntoxicationLvl = localStorage.getItem('nerthus-intoxication-lvl')\n    if (savedIntoxicationLvl)\n        intoxicationLvl = parseInt(savedIntoxicationLvl)\n    if (intoxicationLvl)\n        decayTimerID = setInterval(decayTimerHandler, 10000)\n\n    const __g = _g\n    window._g = function (task, callback, payload)\n    {\n        if (commandContainsDrinkingAlcohol(task))\n        {\n            intoxicationLvl += 10\n            if (intoxicationLvl > 100) intoxicationLvl = 100\n\n            if (!decayTimerID)\n                decayTimerID = setInterval(decayTimerHandler, 10000)\n        }\n        __g(task, callback, payload)\n    }\n\n    if (true)\n    {\n        const _chatSendMsg = Engine.chat.sendMessage\n        Engine.chat.sendMessage = function (msg)\n        {\n            _chatSendMsg.call(Engine.chat, shuffleMessage(msg))\n        }\n    }\n    else\n    {}\n}\n\n/**\n * Original version license:\n * ==================================================================\n * OBSŁUGA PICIA - Autor Godfryd\n * ==================================================================\n */\n\n\n//# sourceURL=webpack:///./src/chat/drunkenness.js?");

/***/ }),

/***/ "./src/game-integration/loaders.js":
/*!*****************************************!*\
  !*** ./src/game-integration/loaders.js ***!
  \*****************************************/
/*! exports provided: loadOnEveryMap, initiateGameIntegrationLoaders, addToNiDrawList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadOnEveryMap\", function() { return loadOnEveryMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initiateGameIntegrationLoaders\", function() { return initiateGameIntegrationLoaders; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addToNiDrawList\", function() { return addToNiDrawList; });\nconst loadQueue = []\n\n/**\n * Executes function immediately, then executes it at every new map load\n * @param fun - function that will be executed\n * @param args - arguments function will take\n */\nfunction loadOnEveryMap(fun, args)\n{\n    if (true) fun(args)\n    loadQueue.push([fun, args])\n}\n\nfunction loadNewMapQueue()\n{\n    for (const i in loadQueue)\n    {\n        loadQueue[i][0](loadQueue[i][1])\n    }\n}\n\nfunction initiateGameIntegrationLoaders() //TODO bug: sometimes long loading new map is loaded faster than old\n{\n    if (true)\n    {\n        const updateData = Engine.map.gateways.updateData\n        Engine.map.gateways.updateData = function (d, townnames)\n        {\n            updateData.call(Engine.map.gateways, d, townnames)\n            loadNewMapQueue()\n        }\n    }\n    else\n    {}\n}\n\nfunction addToNiDrawList(preparedObject, id)\n{\n    const npcList = Engine.npcs.check()\n    npcList[id] = preparedObject\n}\n\n\n//# sourceURL=webpack:///./src/game-integration/loaders.js?");

/***/ }),

/***/ "./src/game-integration/tips.js":
/*!**************************************!*\
  !*** ./src/game-integration/tips.js ***!
  \**************************************/
/*! exports provided: initTips */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initTips\", function() { return initTips; });\n/* harmony import */ var _res_configs_lvl_names__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../res/configs/lvl-names */ \"./res/configs/lvl-names.json\");\nvar _res_configs_lvl_names__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../res/configs/lvl-names */ \"./res/configs/lvl-names.json\", 1);\n/* harmony import */ var _res_configs_vips__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../res/configs/vips */ \"./res/configs/vips.json\");\nvar _res_configs_vips__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../res/configs/vips */ \"./res/configs/vips.json\", 1);\n/* harmony import */ var _permissions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../permissions */ \"./src/permissions.js\");\n\n\n\n\nconst RANK_NAMES = ['Kreator', 'Uber Miszcz Gry', 'Miszcz Gry', 'Strażnik Słowa', 'Tkacz Słów', 'Trubadur', 'Piewca Słowa', 'Radny']\nconst RANKS = {NONE: -1, ADM: 0, SMG: 1, MG: 2, MC: 3, SMC: 4, NARRATOR: 5, NARRATOR_MC: 6, COUNCILOR: 7}\nconst RIGHTS = {ADM: 1, MG: 2, SMG: 16}\n\nfunction rights2rank(rights)\n{\n    if (rights & RIGHTS.ADM) return RANKS.ADM\n    if (rights & RIGHTS.SMG) return RANKS.SMG\n    if (rights & RIGHTS.MG) return RANKS.MG\n    if (rights) return RANKS.MC\n    return RANKS.NONE\n}\n\nfunction getRankNameOf(player)\n{\n    let rank = RANKS.NONE\n    if (player.rights) rank = rights2rank(player.rights)\n\n    switch (Object(_permissions__WEBPACK_IMPORTED_MODULE_2__[\"checkPermissionLvl\"])(player.nick))\n    {\n        case _permissions__WEBPACK_IMPORTED_MODULE_2__[\"PERMISSION_LVL\"].NARRATOR:\n            if (rank === RANKS.MC)\n                rank = RANKS.NARRATOR_MC\n            else\n                rank = RANKS.NARRATOR\n            break\n        case _permissions__WEBPACK_IMPORTED_MODULE_2__[\"PERMISSION_LVL\"].COUNCILOR:\n            rank = RANKS.COUNCILOR\n            break\n    }\n    return rank === RANKS.NONE ? '' : RANK_NAMES[rank]\n}\n\nfunction getTitle(player)\n{\n    const title = _res_configs_vips__WEBPACK_IMPORTED_MODULE_1__[parseInt(player.id)]\n    if (title)\n        return title\n    if (player.lvl)\n        return _res_configs_lvl_names__WEBPACK_IMPORTED_MODULE_0__[Math.min(_res_configs_lvl_names__WEBPACK_IMPORTED_MODULE_0__.length - 1, (parseInt(player.lvl) - 1) >> 3)]\n    return ''\n}\n\nfunction createPlayerTip(player)\n{\n    let tip = '<div style=\"text-align: center\"><b>' + player.nick + '</b>'\n    tip += player.ble ? '<b class=\"bless\">' + player.ble + '</b>' : ''\n    tip += player.clan ? '[' + player.clan.name + ']<br>' : ''\n    tip += '<div style=\"text-align: center;\">' + getTitle(player) + '</div>'\n    const rank = getRankNameOf(player)\n    tip += rank ? '<i style=\"color: #f90\">' + rank + '</i>' : ''\n    tip += (player.attr & 1) ? '<img src=img/mute.gif>' : ''\n    tip += '</div>'\n    return tip\n}\n\nfunction parseTip(player)\n{\n    if (true)\n    {\n        let tip = ''\n        const rank = getRankNameOf(player)\n        if (rank)\n            tip += '<div class=\"rank\">' + rank + '</div>'\n\n        if (player.d.guest)\n            tip += '<div class=\"rank\">' + _t('deputy') + '</div>'\n\n        const nick = '<div class=\"nick\">' + player.d.nick + '</div>'\n        const prof = player.d.prof ? '<div class=\"profs-icon ' + player.d.prof + '\"></div>' : ''\n        tip += '<div class=\"info-wrapper\">' + nick + prof + '</div>'\n\n        if (parseInt(player.wanted) === 1)\n            tip += '<div class=wanted></div>'\n        if (player.d.clan)\n            tip += '<div class=\"clan-in-tip\">[' + player.d.clan.name + ']</div>'\n\n        const title = getTitle(player.d)\n        tip += '<div class=\"clan-in-tip\">' + title + '</div>'\n\n        let buffs = ''\n        const line = player.d.clan ? '<div class=\"line\"></div>' : ''\n        const wanted = player.d.wanted ? '<div class=\"wanted-i\"></div>' : ''\n        const bless = player.d.ble ? '<div class=\"bless\"></div>' : ''\n        const mute = player.d.attr & 1 ? '<div class=\"mute\"></div>' : ''\n        const kB = player.d.vip === '1' ? '<div class=\"k-b\"></div>' : ''\n        const warn = player.d.attr & 2 ? '<div class=\"warn\"></div>' : ''\n\n        if (bless !== '' || mute !== '' || kB !== '' || warn !== '' || wanted !== '')\n            buffs = '<div class=\"buffs-wrapper\">' + line + wanted + bless + mute + kB + warn + '</div>'\n        tip += buffs\n\n        return tip\n    }\n}\n\n\nfunction getNpcTypeName(worldType)\n{\n    if (worldType > 99)\n        return 'tytan'\n    if (worldType > 79)\n        return 'heros'\n    if (worldType > 29)\n        return 'elita III'\n    if (worldType > 19)\n        return 'elita II'\n    if (worldType > 9)\n        return 'elita'\n    return ''\n}\n\nfunction getNpcDanger(npc)\n{\n    if (npc.type === 2 || npc.type === 3)\n    {\n        const lvlDiff = npc.lvl - hero.lvl\n        if (lvlDiff < -13)\n            return {style: 'style=\"color:#888\"', str: 'Niewarty uwagi'}\n        if (lvlDiff > 19)\n            return {style: 'style=\"color:#f50\"', str: 'Potężny przeciwnik'}\n        if (lvlDiff > 9)\n            return {style: 'style=\"color:#ff0\"', str: 'Poważny rywal'}\n        return {style: '', str: 'Zwykły przeciwnik'}\n    }\n    return {style: '', str: ''}\n}\n\nfunction createNpcTip(npc)\n{\n    let tip = '<b>' + npc.nick + '</b>'\n    if (npc.type === 4)\n        return tip\n\n    const type = getNpcTypeName(npc.wt)\n    tip += type ? '<i>' + type + '</i>' : ''\n\n    if (npc.type <= 0)\n        return tip\n\n    const danger = getNpcDanger(npc)\n    const grp = npc.grp ? ', w grupie' : ''\n    tip += '<span ' + danger.style + '>' + danger.str + grp + '</span>'\n    return tip\n}\n\nfunction initTips()\n{\n    if (true)\n    {\n        const othersDrawableList = Engine.others.getDrawableList\n        Engine.others.getDrawableList = function ()\n        {\n            const list = othersDrawableList()\n            for (const i in list)\n            {\n                if (list[i].isPlayer)\n                    list[i].tip[0] = parseTip(list[i], false)\n            }\n            return list\n        }\n\n        Engine.hero.createStrTip = function ()\n        {\n            return parseTip(Engine.hero, true)\n        }\n        Engine.hero.tip[0] = Engine.hero.createStrTip()\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/game-integration/tips.js?");

/***/ }),

/***/ "./src/interface/css-manager.js":
/*!**************************************!*\
  !*** ./src/interface/css-manager.js ***!
  \**************************************/
/*! exports provided: addBasicStyles */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addBasicStyles\", function() { return addBasicStyles; });\nfunction addBasicStyles()\n{\n    console.log('styles added!')\n    $('<link rel=\"stylesheet\" href=\"' + \"http://localhost/nerthusaddon/\" + 'res/css/style.css' + '\">').appendTo('head')\n}\n\n\n//# sourceURL=webpack:///./src/interface/css-manager.js?");

/***/ }),

/***/ "./src/interface/panel.js":
/*!********************************!*\
  !*** ./src/interface/panel.js ***!
  \********************************/
/*! exports provided: initPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initPanel\", function() { return initPanel; });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n\n\nlet $elm = $()\nconst defaultPosition = [6, 'top-right']\n\nconst settingsTranslations = {\n    'night': 'Pory dnia i nocy',\n    'weather': 'Efekty pogodowe',\n    'zodiac': 'Znaki zodiaku',\n    'hideNpcs': 'Ukrywanie NPCów'\n}\n\nfunction translate_option(name)\n{\n    if (settingsTranslations[name])\n        return settingsTranslations[name]\n    return name\n}\n\n/**\n * Contains functions that return strings that are representations of elements\n */\nconst constructElement = {}\n\nconstructElement.button = function (data)\n{\n    return (\n        '<a href=\"' + data.url + '\" target=\"_blank\" class=\"button\" tip=\"' + data.name + '\" data-tip=\"' + data.name + '\">' +\n        '<img src=\"' + \"http://localhost/nerthusaddon/\" + 'res/img/panel/' + data.icon + '\" alt=\"' + data.name + '\">' +\n        '</a>'\n    )\n}\n\nconstructElement.buttonGroup = function (groupData)\n{\n    const buttonGroup = []\n    const len = groupData.length\n    for (let i = 0; i < len; i++)\n        buttonGroup.push(this.button(groupData[i]))\n    return buttonGroup.join('')\n}\n\nconstructElement.settingCheckbox = function (optionName)\n{\n    const checked = _settings__WEBPACK_IMPORTED_MODULE_0__[\"settings\"][optionName] ? ' checked' : ''\n    return (\n        '<label class=\"setting-label\">' +\n        '<span class=\"setting-label-text\">' + translate_option(optionName) + '</span>' +\n        '<input class=\"setting-checkbox\" name=\"' + optionName + '\" type=\"checkbox\"' + checked + '>' +\n        '<span class=\"checkbox-outline\">' +\n        '<span class=\"checkmark\">' +\n        '<div class=\"checkmark-stem\"></div>' +\n        '<div class=\"checkmark-kick\"></div>' +\n        '</span>' +\n        '</span>' +\n        '</label>'\n    )\n}\n\nconstructElement.settings = function (options)\n{\n    const settingsList = []\n    for (const option in options)\n        settingsList.push(this.settingCheckbox(option))\n    const settings = settingsList.join('')\n\n    return (\n        '<div class=\"top-box\">' +\n        settings +\n        '</div>' +\n        '<div class=\"bottom-box\">' +\n        '<button class=\"button text-button save-button\">Zapisz</button>' +\n        '<button class=\"button text-button cancel-button\">Anuluj</button>' +\n        '</div>'\n    )\n}\n\nconstructElement.panel = function (buttonGroupLeft, buttonGroupCenter, buttonGroupRight, settings)\n{\n    return (\n        '<div id=\"nerthus-panel\">' +\n        '<div class=\"header-label-positioner\">' +\n        '<div class=\"header-label\">' +\n        '<div class=\"left-decor\"></div>' +\n        '<div class=\"right-decor\"></div>' +\n        '<span class=\"panel-name\">Panel Nerthusa</span>' +\n        '</div>' +\n        '</div>' +\n        '<div class=\"close-decor\">' +\n        '<button class=\"close-button\" />' +\n        '</div>' +\n        '<div class=\"background\">' +\n        '<div class=\"default-panel\">' +\n        '<div class=\"top-box\">' +\n        '<div id=\"button-group-left\" class=\"button-group\">' + buttonGroupLeft + '</div>' +\n        '<div id=\"button-group-center\" class=\"button-group\">' + buttonGroupCenter + '</div>' +\n        '<div id=\"button-group-right\" class=\"button-group\">' + buttonGroupRight + '</div>' +\n        '</div>' +\n        '<div class=\"bottom-box\">' +\n        '<button class=\"button text-button ok-button\">OK</button>' +\n        '</div>' +\n        '</div>' +\n        '<div class=\"settings-panel hidden\">' +\n        settings +\n        '</div>' +\n        '<button class=\"button nerthus-settings-button\" tip=\"Ustawienia\" data-tip=\"Ustawienia\">' +\n        '<img src=\"' + \"http://localhost/nerthusaddon/\" + 'res/img/panel/settings.png' + '\" alt=\"Ustawienia\">' +\n        '</button>' +\n        '</div>' +\n        '</div>'\n    )\n}\n\nconstructElement.icon = function ()\n{\n    return '<img id=\"nerthus-shield\" src=\"' + \"http://localhost/nerthusaddon/\" + 'res/img/widget-icon.gif\" tip=\"Nerthus\" alt=\"Nerthus panel\">'\n}\n\nfunction createPanel(data, hidden)\n{\n    if (!$elm.parent || !$elm.parent('body').length)\n    {\n        const buttonGroupLeft = constructElement.buttonGroup(data.leftPanel)\n        const buttonGroupCenter = constructElement.buttonGroup(data.centerPanel)\n        const buttonGroupRight = constructElement.buttonGroup(data.rightPanel)\n        const settingsElement = constructElement.settings(_settings__WEBPACK_IMPORTED_MODULE_0__[\"settings\"])\n\n        $elm = $(constructElement.panel(buttonGroupLeft, buttonGroupCenter, buttonGroupRight, settingsElement))\n        const defaultPanel = $elm.find('.default-panel')\n        const settingsPanel = $elm.find('.settings-panel')\n        const panelName = $elm.find('.panel-name')\n        $elm.find('.nerthus-settings-button')\n            .click(function ()\n            {\n                defaultPanel.toggleClass('hidden')\n                settingsPanel.toggleClass('hidden')\n                const $this = $(this)\n                $this.toggleClass('back-to-default')\n                if (settingsPanel.hasClass('hidden'))\n                {\n                    $this.attr({'tip': 'Ustawienia', 'data-tip': 'Ustawienia'})\n                        .children().attr('src', \"http://localhost/nerthusaddon/\" + 'res/img/panel/settings.png')\n                    panelName.text('Panel Nerthusa')\n                }\n                else\n                {\n                    $this.attr({'tip': 'Powrót', 'data-tip': 'Powrót'})\n                        .children().attr('src', \"http://localhost/nerthusaddon/\" + 'res/img/panel/settings-back.png')\n                    panelName.text('Panel Nerthusa - ustawienia')\n                }\n            })\n            .end()\n            .find('.close-button, .cancel-button, .ok-button')\n            .click(function ()\n            {\n                $elm.css({visibility: 'hidden', opacity: '0'}) // reset opacity as we're still holding reference\n                defaultPanel.removeClass('hidden')\n                settingsPanel.addClass('hidden')\n            }).end()\n            .find('.save-button')\n            .click(function ()\n            {\n                saveSettings()\n                $elm.css({visibility: 'hidden', opacity: '0'}) // reset opacity as we're still holding reference\n                defaultPanel.removeClass('hidden')\n                settingsPanel.addClass('hidden')\n            }).end()\n\n        $elm\n            .css({\n                visibility: hidden ? 'hidden' : 'visible',\n                opacity: 0\n            })\n            .appendTo('body')\n            .css('opacity', hidden ? '0' : '1') // change opacity after appending to body for nice animation\n            .draggable({\n                start: function ()\n                {\n                    const lock = window.g ? window.g.lock : window.Engine.lock\n                    lock.add('nerthus-panel-drag')\n                },\n                stop: function ()\n                {\n                    const lock = window.g ? window.g.lock : window.Engine.lock\n                    lock.remove('nerthus-panel-drag')\n                }\n            })\n    }\n}\n\nfunction preloadPanel()\n{\n    if (!$elm.parent || !$elm.parent('body').length)\n        $.getJSON(\"http://localhost/nerthusaddon/\" + 'res/configs/panel-links.json', function (data)\n        {\n            createPanel(data, true)\n        })\n}\n\nfunction togglePanel()\n{\n    if (!$elm.parent || !$elm.parent('body').length)\n        $.getJSON(\"http://localhost/nerthusaddon/\" + 'res/configs/panel-links.json', createPanel)\n    else if ($elm.css('visibility') === 'visible')\n        $elm.css({visibility: 'hidden', opacity: '0'})\n    else\n        $elm.css({visibility: 'visible', opacity: '1'})\n}\n\nfunction saveSettings()\n{\n    $elm.find('.setting-checkbox').each(function () { Object(_settings__WEBPACK_IMPORTED_MODULE_0__[\"saveSetting\"])(this.name, this.checked)})\n    message('Zapisano, odśwież stronę')\n}\n\n\nfunction create_button_ni()\n{\n    if (Engine.interfaceStart && Object.keys(Engine.interface.getDefaultWidgetSet()).includes('nerthus'))\n    {\n        let nerthusPos = defaultPosition\n\n        const serverStoragePos = Engine.serverStorage.get(Engine.interface.getPathToHotWidgetVersion())\n        if (serverStoragePos && serverStoragePos.nerthus) nerthusPos = serverStoragePos.nerthus\n\n        Engine.interface.createOneWidget('nerthus', {nerthus: nerthusPos}, true, [])\n    }\n    else setTimeout(create_button_ni, 500)\n}\n\nfunction initPanel()\n{\n    if (true)\n    {\n        const addNerthusToDefaultWidgetSet = function ()\n        {\n            Engine.interface.addKeyToDefaultWidgetSet(\n                'nerthus',\n                defaultPosition[0],\n                defaultPosition[1],\n                'Nerthus',\n                'green',\n                togglePanel\n            )\n        }\n\n        $('head').append('<style>' +\n            '.main-buttons-container .widget-button .icon.nerthus {' +\n            'background-image: url(' + \"http://localhost/nerthusaddon/\" + 'res/img/widget-icon.gif);' +\n            'background-position: 0;' +\n            '}' +\n            '</style>'\n        )\n        const addWidgetButtons = Engine.interface.addWidgetButtons\n        Engine.interface.addWidgetButtons = function (additionalBarHide)\n        {\n            addWidgetButtons.call(Engine.interface, additionalBarHide)\n            addNerthusToDefaultWidgetSet()\n            create_button_ni()\n\n            // Only add Nerthus button once, then return to default function\n            Engine.interface.addWidgetButtons = addWidgetButtons\n        }\n\n        // If interface was already initialised, add Nerthus button manually (as addWidgetButtons already ran)\n        if (Engine.interfaceStart)\n        {\n            addNerthusToDefaultWidgetSet()\n            create_button_ni()\n        }\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/interface/panel.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _chat_chat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat/chat */ \"./src/chat/chat.js\");\n/* harmony import */ var _chat_commands__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat/commands */ \"./src/chat/commands.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ \"./src/settings.js\");\n/* harmony import */ var _interface_panel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interface/panel */ \"./src/interface/panel.js\");\n/* harmony import */ var _interface_css_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interface/css-manager */ \"./src/interface/css-manager.js\");\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./game-integration/loaders */ \"./src/game-integration/loaders.js\");\n/* harmony import */ var _npc_npc__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./npc/npc */ \"./src/npc/npc.js\");\n/* harmony import */ var _night_night__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./night/night */ \"./src/night/night.js\");\n/* harmony import */ var _maps__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./maps */ \"./src/maps.js\");\n/* harmony import */ var _game_integration_tips__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./game-integration/tips */ \"./src/game-integration/tips.js\");\n/* harmony import */ var _widgets__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./widgets */ \"./src/widgets.js\");\n/* harmony import */ var _zodiac__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./zodiac */ \"./src/zodiac.js\");\n/* harmony import */ var _weather_weather__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./weather/weather */ \"./src/weather/weather.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction start()\n{\n    Object(_interface_css_manager__WEBPACK_IMPORTED_MODULE_4__[\"addBasicStyles\"])()\n    Object(_settings__WEBPACK_IMPORTED_MODULE_2__[\"loadSettings\"])()\n\n    Object(_game_integration_tips__WEBPACK_IMPORTED_MODULE_9__[\"initTips\"])()\n\n    Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_5__[\"initiateGameIntegrationLoaders\"])()\n\n    Object(_maps__WEBPACK_IMPORTED_MODULE_8__[\"initMapsManager\"])()\n\n    Object(_npc_npc__WEBPACK_IMPORTED_MODULE_6__[\"initNpcManager\"])()\n\n    Object(_night_night__WEBPACK_IMPORTED_MODULE_7__[\"initNightManager\"])()\n\n    Object(_widgets__WEBPACK_IMPORTED_MODULE_10__[\"initWidgets\"])()\n    Object(_weather_weather__WEBPACK_IMPORTED_MODULE_12__[\"initWeather\"])()\n    Object(_zodiac__WEBPACK_IMPORTED_MODULE_11__[\"initZodiac\"])()\n\n    Object(_chat_chat__WEBPACK_IMPORTED_MODULE_0__[\"initChatMgr\"])()\n    Object(_chat_commands__WEBPACK_IMPORTED_MODULE_1__[\"initBasicChatCommands\"])()\n\n    Object(_interface_panel__WEBPACK_IMPORTED_MODULE_3__[\"initPanel\"])()\n    console.log('Nerthus addon fully loaded')\n}\n\nif (true)\n{\n    if (Engine.map.d.id) start()\n    else\n    {\n        // We need to make sure map image is loaded, as most of\n        // the Engine's functions won't work correctly without it.\n        // Since we can't influence weirdly linked dependencies in\n        // the game's code, we are going to use this hack, as\n        // we know for certain hero.updateCollider is called once\n        // after map update\n        const heroUpdateCollider = Engine.hero.updateCollider\n        Engine.hero.updateCollider = function ()\n        {\n            heroUpdateCollider.call(Engine.hero)\n            // Make sure map image has been loaded, as something else can\n            // execute this function otherwise.\n            if (Engine.map.imgLoaded)\n            {\n                // We only want to start once, so after starting\n                // this hook is no longer needed. That's why we\n                // change it back to default.\n                Engine.hero.updateCollider = heroUpdateCollider\n\n                start()\n            }\n        }\n    }\n}\nelse\n{}\n\n\n//# sourceURL=webpack:///./src/main.js?");

/***/ }),

/***/ "./src/maps.js":
/*!*********************!*\
  !*** ./src/maps.js ***!
  \*********************/
/*! exports provided: MAP_PRIORITY, addToMapChangelist, removeFromMapChangelist, applyCurrentMapChange, initMapsManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAP_PRIORITY\", function() { return MAP_PRIORITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addToMapChangelist\", function() { return addToMapChangelist; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFromMapChangelist\", function() { return removeFromMapChangelist; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyCurrentMapChange\", function() { return applyCurrentMapChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initMapsManager\", function() { return initMapsManager; });\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game-integration/loaders */ \"./src/game-integration/loaders.js\");\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./time */ \"./src/time.js\");\n/* harmony import */ var _res_configs_maps_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../res/configs/maps.json */ \"./res/configs/maps.json\");\nvar _res_configs_maps_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../res/configs/maps.json */ \"./res/configs/maps.json\", 1);\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utility-functions */ \"./src/utility-functions.js\");\n\n\n\n\n\nconst MAP_PRIORITY = {CUSTOM: 2, CUSTOM_NO_ID: 1, BASIC: 0}\n\nconst currentMapImage = new Image()\n\nlet customMapNoIdUrl\nconst customMapsUrls = {}\n\nfunction addToMapChangelist(url, priority, mapId)\n{\n    switch (priority)\n    {\n        case MAP_PRIORITY.CUSTOM:\n            customMapsUrls[mapId] = url\n            return\n        case MAP_PRIORITY.CUSTOM_NO_ID:\n            customMapNoIdUrl = url\n            return\n    }\n}\n\nfunction removeFromMapChangelist(priority, mapId)\n{\n    switch (priority)\n    {\n        case MAP_PRIORITY.CUSTOM:\n            delete customMapsUrls[mapId]\n            return\n        case MAP_PRIORITY.CUSTOM_NO_ID:\n            customMapNoIdUrl = ''\n            return\n    }\n}\n\nfunction getBasicMapUrl(mapId)\n{\n    const season = Object(_time__WEBPACK_IMPORTED_MODULE_1__[\"getCurrentSeason\"])()\n    if (_res_configs_maps_json__WEBPACK_IMPORTED_MODULE_2__[season][mapId])\n        return _res_configs_maps_json__WEBPACK_IMPORTED_MODULE_2__[season][mapId]\n    else if (_res_configs_maps_json__WEBPACK_IMPORTED_MODULE_2__.default[mapId])\n        return _res_configs_maps_json__WEBPACK_IMPORTED_MODULE_2__.default[mapId]\n    else\n        return false\n}\n\n\nfunction applyMapChange(mapId)\n{\n    const mapImage = new Image()\n\n    const basicMapUrl = getBasicMapUrl(mapId)\n    if (customMapsUrls[mapId])\n        mapImage.src = Object(_utility_functions__WEBPACK_IMPORTED_MODULE_3__[\"resolveNerthusUrl\"])(customMapsUrls[mapId])\n    else if (customMapNoIdUrl)\n        mapImage.src = Object(_utility_functions__WEBPACK_IMPORTED_MODULE_3__[\"resolveNerthusUrl\"])(customMapNoIdUrl)\n    else if (basicMapUrl)\n        mapImage.src = Object(_utility_functions__WEBPACK_IMPORTED_MODULE_3__[\"resolveNerthusUrl\"])(basicMapUrl)\n\n    currentMapImage.src = mapImage.src\n\n    if (false)\n        {}\n}\n\n\nfunction startMapChanging()\n{\n    //manipulation of map\n    const tmpMapDraw = Engine.map.draw\n    Engine.map.draw = function (canvasRenderingContext)\n    {\n        //draw normal map\n        tmpMapDraw.call(Engine.map, canvasRenderingContext)\n\n        //draw new maps on top of map\n        if (currentMapImage.complete)\n        {\n            canvasRenderingContext.drawImage(\n                currentMapImage,\n                0 - Engine.map.offset[0],\n                0 - Engine.map.offset[1])\n\n            //draw goMark (red X on ground that shows you where you've clicked)\n            if (Engine.map.goMark)\n                Engine.map.drawGoMark(canvasRenderingContext)\n        }\n    }\n}\n\n\nfunction applyCurrentMapChange()\n{\n    if (true)\n        applyMapChange(Engine.map.d.id)\n    else\n        {}\n}\n\n\nfunction initMapsManager()\n{\n    if (true) startMapChanging()\n    Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_0__[\"loadOnEveryMap\"])(applyCurrentMapChange)\n}\n\n\n//# sourceURL=webpack:///./src/maps.js?");

/***/ }),

/***/ "./src/night/lights.js":
/*!*****************************!*\
  !*** ./src/night/lights.js ***!
  \*****************************/
/*! exports provided: turnLightsOn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"turnLightsOn\", function() { return turnLightsOn; });\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game-integration/loaders */ \"./src/game-integration/loaders.js\");\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility-functions */ \"./src/utility-functions.js\");\n\n\n\nconst LIGHT_TYPE_SIZES = {S: '64px', M: '96px', L: '160px', XL: '192px'}\n\nfunction getLightTypeUrl(lightType)\n{\n    return \"http://localhost/nerthusaddon/\" + 'res/img/night-lights/' + lightType + '.png'\n}\n\nfunction getLightNiObject(img, x, y)\n{\n    return {\n        draw: function (e)\n        {\n            e.drawImage(img, x - Engine.map.offset[0], y - Engine.map.offset[1])\n        },\n        getOrder: function ()\n        {\n            return 1000 // Lights always on top\n        },\n        update: function () {},\n        d: {},\n        updateDATA: function () {}\n    }\n}\n\nfunction addLights(lights)\n{\n    for (const i in lights)\n    {\n        if (true)\n        {\n            const image = new Image()\n            image.onload = _game_integration_loaders__WEBPACK_IMPORTED_MODULE_0__[\"addToNiDrawList\"].bind(\n                null,\n                getLightNiObject(image, lights[i].x, lights[i].y),\n                Object(_utility_functions__WEBPACK_IMPORTED_MODULE_1__[\"coordsToId\"])(lights[i].x, lights[i].y)\n            )\n            image.src = getLightTypeUrl(lights[i].type)\n        }\n        else\n        {}\n    }\n}\n\nfunction resetLights()\n{\n    if (false)\n        {}\n}\n\n\nfunction turnLightsOn()\n{\n    if (true)\n    {\n        if (typeof Engine.map.d.id === 'undefined')\n            setTimeout(turnLightsOn, 500)\n        else\n        {\n            if ({\"npc\":[1,11,15,16,169,1838,1975,2,2520,257,2663,2887,290,291,330,35,361,37,38,574,8,864],\"lights\":[1,10,1058,1059,11,114,1141,115,12,121,128,137,2,2029,2056,2063,2064,214,222,223,226,244,2520,262,2887,33,344,347,35,36,368,37,38,4,500,574,575,589,630,631,632,727,730,731,8,84,845,9]}.lights.includes(Engine.map.d.id))\n                $.getJSON(\"http://localhost/nerthusaddon/\" + 'res/configs/night-lights/' + Engine.map.d.id + '.json', addLights)\n            else console.log('lights not loaded - no file')\n        }\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/night/lights.js?");

/***/ }),

/***/ "./src/night/night.js":
/*!****************************!*\
  !*** ./src/night/night.js ***!
  \****************************/
/*! exports provided: changeLight, checkAndApplyNight, setOpacityChange, initNightManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeLight\", function() { return changeLight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkAndApplyNight\", function() { return checkAndApplyNight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setOpacityChange\", function() { return setOpacityChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initNightManager\", function() { return initNightManager; });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../game-integration/loaders */ \"./src/game-integration/loaders.js\");\n/* harmony import */ var _lights__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lights */ \"./src/night/lights.js\");\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utility-functions */ \"./src/utility-functions.js\");\n\n\n\n\n\nlet opacityChange = 0\nlet currentOpacity = 0\nlet currentColor = '#000'\n\n/**\n * @param time - Date\n * @returns {number}\n */\nfunction timeToOpacity(time)\n{\n    const hour = time.getHours()\n    let opacity\n    if (hour < 12)\n        opacity = -Math.pow(0.14 * hour - 1.29, 2) + 1\n    else\n        opacity = -Math.pow(0.1 * hour - 1.57, 2) + 1\n\n    if (opacity < 0.3) opacity = 0.3\n    else if (opacity > 1) opacity = 1\n\n    return 1 - opacity\n}\n\nfunction getDarknessNiObject(opacity, color)\n{\n    return {\n        draw: function (e)\n        {\n            const style = e.fillStyle\n            e.fillStyle = color\n            e.globalAlpha = opacity\n            e.fillRect(0 - Engine.map.offset[0], 0 - Engine.map.offset[1], Engine.map.width, Engine.map.height)\n            e.globalAlpha = 1.0\n            e.fillStyle = style\n        },\n        getOrder: function ()\n        {\n            return 950 // Darkness bellow lights but above everything else\n        },\n        update: function () {},\n        d: {},\n        updateDATA: function () {}\n    }\n}\n\nfunction changeLight(opacity = timeToOpacity(new Date()), color = '#000', forced)\n{\n    currentOpacity = opacity\n    currentColor = color\n\n    if (color === '#000' && !forced) opacity = opacity + opacityChange\n    if (opacity > 1) opacity = 1\n    else if (opacity < 0) opacity = 0\n\n    if (true)\n        Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_1__[\"addToNiDrawList\"])(getDarknessNiObject(opacity, color), Object(_utility_functions__WEBPACK_IMPORTED_MODULE_3__[\"coordsToId\"])(-1, -1))\n    else\n    {}\n}\n\nfunction checkAndApplyNight()\n{\n    if (_settings__WEBPACK_IMPORTED_MODULE_0__[\"settings\"].night)\n    {\n        const date = new Date()\n        const dimValue = timeToOpacity(date)\n        if (dimValue)\n        {\n            if (Object(_utility_functions__WEBPACK_IMPORTED_MODULE_3__[\"isCurrentMapOutdoor\"])())\n                changeLight(dimValue)\n            else\n                changeLight(-1)\n\n            Object(_lights__WEBPACK_IMPORTED_MODULE_2__[\"turnLightsOn\"])()\n        }\n    }\n}\n\nfunction setOpacityChange(newOpacityChange)\n{\n    if (!newOpacityChange) newOpacityChange = 0\n    else if (newOpacityChange > 1) newOpacityChange = 1\n    else if (newOpacityChange < -1) newOpacityChange = -1\n\n    opacityChange = newOpacityChange\n    changeLight(currentOpacity, currentColor)\n}\n\nfunction initNightManager()\n{\n    Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_1__[\"loadOnEveryMap\"])(checkAndApplyNight)\n}\n\n\n//# sourceURL=webpack:///./src/night/night.js?");

/***/ }),

/***/ "./src/npc/dialog.js":
/*!***************************!*\
  !*** ./src/npc/dialog.js ***!
  \***************************/
/*! exports provided: addDialogToDialogList, openDialog, initNpcDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addDialogToDialogList\", function() { return addDialogToDialogList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openDialog\", function() { return openDialog; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initNpcDialog\", function() { return initNpcDialog; });\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility-functions */ \"./src/utility-functions.js\");\n\n\nconst LINE_ICON = 'icon LINE_OPTION line_option' // TODO NI/SI?\nconst EXIT_ICON = 'icon LINE_EXIT line_exit'\n\nlet dialogList = {}\n\nfunction addDialogToDialogList(npcId, npcNick, dialog)\n{\n    dialogList[npcId] = {\n        npcNick: npcNick,\n        dialog: dialog\n    }\n}\n\nfunction openDialog(npcId, index)\n{\n    const npcNick = dialogList[npcId].npcNick\n    const dialog = dialogList[npcId].dialog\n    const npcMessage = parsePlaceholders(dialog[index][0])\n    const playerReplies = parseReplies(dialog[index], npcId)\n\n    displayDialog(npcId, npcNick, npcMessage, playerReplies)\n\n    if (true)\n    {\n        Engine.lock.add('nerthus-dialog')\n    }\n    else\n    {}\n}\n\nfunction parseReplies(dialogInstance, npcId)\n{\n    const replies = []\n\n    for (let i = 1; i < dialogInstance.length; i++)\n        replies.push(parseReply(dialogInstance[i], npcId))\n    return replies\n\n}\n\n\nfunction parseReply(replyRow, npcId)\n{\n    const reply = parseReplyRow(replyRow)\n    if (reply.to === 'END')\n    {\n        reply.click = closeDialog\n        reply.icon = EXIT_ICON\n    }\n    else if (reply.to)\n    {\n        reply.click = function ()\n        {\n            removeScroll()\n            openDialog(npcId, reply.to)\n            addScroll()\n            $('#dlgin').scrollTop(0)\n        }\n        reply.icon = LINE_ICON\n    }\n    return reply\n}\n\nfunction parseReplyRow(reply)\n{\n    const replyArr = reply.split('->')\n    return {text: parsePlaceholders(replyArr[0]), to: replyArr[1]}\n}\n\nfunction parsePlaceholders(text)\n{\n    if (true)\n        return text.replace('#NAME', Engine.hero.d.nick)\n    else\n        {}\n}\n\nfunction addScroll()\n{\n    clearInterval(g.talk.scrollCheckInterval)\n    const $dlgin = $('#dlgin')\n    g.talk.scrollCheckInterval = setInterval(function ()\n    {\n        if ($('#talkscroll').length) return\n        if ($dlgin.height() < ($('#dlgin .message').innerHeight() + $('#dlgin .replies').innerHeight()))\n        {\n            $('#dlgin').css({'margin-right': 20})\n            addScrollbar('dlgin', 490, 'talkscroll')\n        }\n    }, 100)\n    if ($dlgin.height() < ($('#dlgin .message').innerHeight() + $('#dlgin .replies').innerHeight()))\n    {\n        $dlgin.css({'margin-right': 20})\n        addScrollbar('dlgin', 490, 'talkscroll')\n    }\n}\n\nfunction removeScroll()\n{\n    removeScrollbar('dlgin', 'talkscroll')\n}\n\nfunction parseInnerDialog(npcMessage, playerReplies)\n{\n    let innerDial = '<p class=\"npc-message\">' + npcMessage + '</p><ul class=\"answers\">'\n    const repliesLen = playerReplies.length\n    for (let i = 0; i < repliesLen; i++)\n    {\n        let iconClass = LINE_ICON\n        if (playerReplies[i].to === 'END') iconClass = EXIT_ICON\n\n        innerDial +=\n            '<li class=\"answer dialogue-window-answer ' + iconClass + '\">' +\n            '<div class=\"' + iconClass + '\"></div>' +\n            '<span class=\"answer-text\">' + (i + 1) + '. ' + playerReplies[i].text + '</span>' +\n            '</li>'\n    }\n    return innerDial\n}\n\n\nfunction addEventToAnswer(answer, $dialWin, replies, index, id)\n{\n    if (replies[index])\n        $(answer).click(function ()\n        {\n            if (replies[index].to === 'END')\n                closeDialog()\n            else\n                openDialog(id, replies[index].to)\n            $('.scroll-wrapper', $dialWin).trigger('update')\n        })\n}\n\nfunction displayDialog(npcId, npcNick, npcMessage, playerReplies)//(message, replies, npc)\n{\n    if (true)\n    {\n        const innerDial = parseInnerDialog(npcMessage, playerReplies)\n\n        let $dialWin = $('.dialogue-window')\n        if ($dialWin.length === 0)\n        {\n            const dial =\n                '<div class=\"dialogue-window\">' +\n                '<div class=\"background\">' +\n                '<div class=\"upper-left\"></div>' +\n                '<div class=\"upper-right\"></div>' +\n                '<div class=\"top\"></div>' +\n                '<div class=\"left\"></div>' +\n                '<div class=\"right\"></div>' +\n                '<div class=\"bottom\"></div>' +\n                '</div>' +\n                '<div class=\"content\">' +\n                '<div class=\"inner scroll-wrapper scrollable\">' +\n                '<div class=\"scroll-pane\">' +\n                innerDial +\n                '</ul></div>' +\n                '<div class=\"scrollbar-wrapper\">' +\n                '<div class=\"background\" style=\"pointer-events: none;\"></div>' +\n                '<div class=\"arrow-up\"></div>' +\n                '<div class=\"arrow-down\"></div>' +\n                '<div class=\"track\">' +\n                '<div class=\"handle ui-draggable ui-draggable-handle\" style=\"top: 0;\"></div>' +\n                '</div></div></div></div>' +\n                '<header><div class=\"h_content\">' + npcNick + '</div></header>' +\n                '</div>'\n            $dialWin = $(dial).appendTo('.bottom.positioner')\n            $('.scroll-wrapper', $dialWin).addScrollBar({track: true})\n\n            setTimeout(function ()\n            {\n                $dialWin.addClass('is-open')\n            }, 10) //NI animation\n        }\n        else\n        {\n            $dialWin.addClass('is-open')\n            $('.content .inner.scroll-wrapper .scroll-pane', $dialWin).empty().append(innerDial)\n        }\n\n        $('.content .inner.scroll-wrapper .scroll-pane .answers .answer', $dialWin)\n            .each(function (index) {addEventToAnswer(this, $dialWin, playerReplies, index, npcId)})\n    }\n    else\n    {}\n}\n\nfunction closeDialog()\n{\n    if (true)\n    {\n        $('.dialogue-window').removeClass('is-open')\n        Engine.lock.remove('nerthus-dialog')\n    }\n    else\n    {}\n}\n\nfunction composeReply(reply)\n{\n    return $('<li>')\n        .addClass(reply.icon)\n        .append('<div class=\"' + reply.icon + '\">')\n        .append(reply.text)\n        .click(reply.click)\n}\n\nfunction checkDialog(command)\n{\n    const match = command.match(/^talk.*id=(\\d+)/)\n    if (match)\n    {\n        const id = match[1]\n        if (id >= Object(_utility_functions__WEBPACK_IMPORTED_MODULE_0__[\"coordsToId\"])(0, 0) &&\n            dialogList[id] !== undefined)\n        {\n            return id\n        }\n    }\n    return false\n}\n\nfunction initNpcDialog()\n{\n    if (true)\n    {\n        const __g = _g\n        window._g = function (task, callback, payload)\n        {\n            const id = checkDialog(task)\n            if (id) openDialog(id, 0)\n            __g(task, callback, payload)\n        }\n    }\n}\n\n\n//# sourceURL=webpack:///./src/npc/dialog.js?");

/***/ }),

/***/ "./src/npc/npc-actions/add.js":
/*!************************************!*\
  !*** ./src/npc/npc-actions/add.js ***!
  \************************************/
/*! exports provided: addNpc, addNpcToList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addNpc\", function() { return addNpc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addNpcToList\", function() { return addNpcToList; });\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collision */ \"./src/npc/npc-actions/collision.js\");\n/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dialog */ \"./src/npc/dialog.js\");\n/* harmony import */ var _npc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../npc */ \"./src/npc/npc.js\");\n/* harmony import */ var _remove__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./remove */ \"./src/npc/npc-actions/remove.js\");\n\n\n\n\n\n// nerthus.worldEdit.addNpc_ni = function (x, y, url, name, collision, map_id)\n// {\n//     this.npcs.push([x, y, url, name, collision, map_id])\n//     if (typeof map_id === \"undefined\" || parseInt(map_id) === Engine.map.d.id)\n//         this.paintNpc_ni(x, y, url, name, collision, map_id)\n// }\n//\n// nerthus.worldEdit.paintNpc_ni = function (x, y, url, name, collision, map_id)\n// {\n//     const exp = /(.*\\/)(?!.*\\/)((.*)\\.(.*))/\n//     const match = exp.exec(url)\n//\n//     const id = this.coordsToId(x, y)\n//     let data = {}\n//     data[id] = {\n//         actions: 0,\n//         grp: 0,\n//         nick: name === \"\" ? \"Bez nazwy\" : name,\n//         type: name === \"\" ? 4 : 0,\n//         wt: 0,\n//         x: x,\n//         y: y\n//     }\n//     console.log(data)\n//     if (match[4] === \"gif\")\n//     {\n//         data[id].icon = url\n//         const npath = CFG.npath\n//         CFG.npath = \"\"\n//         Engine.npcs.updateData(data)\n//         CFG.npath = npath\n//     }\n//     else\n//     {\n//         data[id].icon = \"obj/cos.gif\"\n//         Engine.npcs.updateData(data)\n//         const image = new Image()\n//         image.src = url\n//\n//         const _x = 32 * x + 16 - Math.floor(image.width / 2)\n//         const _y = 32 * y + 32 - image.height\n//         const obj = {\n//             image: image,\n//             x: _x,\n//             y: _y,\n//             id: id,\n//             map_id: map_id\n//         }\n//         // Engine.npcs.check().push({\n//         //     draw: function(ctx) {\n//         //\n//         //     }\n//         // })\n//     }\n//\n//\n//     if (collision && (typeof map_id === \"undefined\" || parseInt(map_id) === Engine.map.d.id))\n//         this.addCollision_ni(x, y)\n//     else\n//         this.deleteCollision_ni(x, y, 2) //apparently NI adds default collision when adding NPC\n// }\n\n\n// nerthus.worldEdit.readdNpcList_ni = function ()\n// {\n//     this.npcs.forEach(function (npc)\n//     {\n//         console.log(npc)\n//         console.log(parseInt(npc[5]))\n//         console.log(Engine.map.d.id)\n//         if (typeof npc[5] === \"undefined\" || parseInt(npc[5]) === Engine.map.d.id)\n//             nerthus.worldEdit.paintNpc_ni(npc[0], npc[1], npc[2], npc[3], npc[4], npc[5])\n//     })\n// }\n\nfunction createClickWrapper(npc, clickHandler)\n{\n    return function (event)\n    {\n        if (Math.abs(npc.x - hero.x) > 1 || Math.abs(npc.y - hero.y) > 1)\n            hero.mClick(event)\n        else\n            clickHandler()\n    }\n}\n\nfunction addNpc(npc)\n{\n    if (true)\n    {\n        const data = {}\n        data[npc.id] = npc\n\n        const npath = CFG.npath\n        CFG.npath = ''\n        Engine.npcs.updateData(data)\n        CFG.npath = npath\n\n        if (npc.dialog) Object(_dialog__WEBPACK_IMPORTED_MODULE_1__[\"addDialogToDialogList\"])(npc.id, npc.nick, npc.dialog)\n\n        if (npc.collision)\n            Object(_collision__WEBPACK_IMPORTED_MODULE_0__[\"setCollision\"])(npc.x, npc.y)\n        else\n            Object(_collision__WEBPACK_IMPORTED_MODULE_0__[\"removeCollision\"])(npc.x, npc.y)\n        return data\n    }\n    else\n    {}\n}\n\n/**\n * Function adds new NPC to the list and displays him,\n * or replaces NPC on the same coordinates and same map\n * @param npc\n * @param mapId\n */\nfunction addNpcToList(npc, mapId)\n{\n    if (!_npc__WEBPACK_IMPORTED_MODULE_2__[\"customNpcs\"][mapId]) _npc__WEBPACK_IMPORTED_MODULE_2__[\"customNpcs\"][mapId] = {}\n    if (_npc__WEBPACK_IMPORTED_MODULE_2__[\"customNpcs\"][mapId][npc.id]) Object(_remove__WEBPACK_IMPORTED_MODULE_3__[\"removeNpc\"])(npc.x, npc.y, mapId)\n    _npc__WEBPACK_IMPORTED_MODULE_2__[\"customNpcs\"][mapId][npc.id] = npc\n    if (true)\n    {\n        if (Engine.map.d.id === mapId)\n            addNpc(npc)\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/npc/npc-actions/add.js?");

/***/ }),

/***/ "./src/npc/npc-actions/change.js":
/*!***************************************!*\
  !*** ./src/npc/npc-actions/change.js ***!
  \***************************************/
/*! exports provided: changeGameNpc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeGameNpc\", function() { return changeGameNpc; });\nfunction changeGameNpc(npc)\n{\n    if (true)\n    {\n        const callback = function (newNpc)\n        {\n            if (newNpc.d && newNpc.d.id === npc.id.toString())\n            {\n                const img = new Image()\n                img.src = npc.newUrl\n                newNpc.sprite = img\n                Object.defineProperty(newNpc, 'sprite', {\n                    get() {return img},\n                    set() {return img}\n                })\n\n                // Run only once\n                // setTimeout so that it removes itself after all NPCs are checked by API,\n                // otherwise it would throw error\n                setTimeout(API.removeCallbackFromEvent.bind(API, 'newNpc', callback), 0)\n            }\n        }\n        API.addCallbackToEvent('newNpc', callback)\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/npc/npc-actions/change.js?");

/***/ }),

/***/ "./src/npc/npc-actions/collision.js":
/*!******************************************!*\
  !*** ./src/npc/npc-actions/collision.js ***!
  \******************************************/
/*! exports provided: setCollision, removeCollision */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCollision\", function() { return setCollision; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeCollision\", function() { return removeCollision; });\nfunction setCollision(x, y)\n{\n    if (true)\n        Engine.map.col.set(x, y, 2)\n    else\n        {}\n}\n\nfunction removeCollision(x, y)\n{\n    if (true)\n        Engine.map.col.unset(x, y, 2)\n    else\n        {}\n}\n\n\n//# sourceURL=webpack:///./src/npc/npc-actions/collision.js?");

/***/ }),

/***/ "./src/npc/npc-actions/hide.js":
/*!*************************************!*\
  !*** ./src/npc/npc-actions/hide.js ***!
  \*************************************/
/*! exports provided: customHiddenNpcs, isNpcHidable, hideGameNpc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"customHiddenNpcs\", function() { return customHiddenNpcs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNpcHidable\", function() { return isNpcHidable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideGameNpc\", function() { return hideGameNpc; });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../settings */ \"./src/settings.js\");\n\n\nconst customHiddenNpcs = []\n\nfunction isNpcHidable(npc)\n{\n    if (true)\n        return npc.lvl === 0 || npc.lvl + 13 < Engine.hero.d.lvl\n    else\n        {}\n}\n\nfunction hideGameNpc(id, always)\n{\n    if (!customHiddenNpcs.includes(id)) customHiddenNpcs.push(id)\n\n    if (true)\n    {\n        if (always || _settings__WEBPACK_IMPORTED_MODULE_0__[\"settings\"].hideNpcs)\n        {\n            const callback = function (newNpc)\n            {\n                if (newNpc.d && newNpc.d.id === id.toString())\n                {\n                    // Remove in this fashion (instead of just calling .delete()\n                    // because we don't want to unset collisions when hiding\n                    API.callEvent('removeNpc', newNpc)\n                    if (Engine.npcs.getById(newNpc.d.id)) Engine.npcs.removeOne(newNpc.d.id)\n                    Engine.emotions.removeAllFromSourceId(newNpc.d.id)\n\n                    // Run only once\n                    // setTimeout so that it removes itself after all NPCs are checked by API,\n                    // otherwise it would throw error\n                    setTimeout(API.removeCallbackFromEvent.bind(API, 'newNpc', callback), 0)\n                }\n            }\n            API.addCallbackToEvent('newNpc', callback)\n        }\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/npc/npc-actions/hide.js?");

/***/ }),

/***/ "./src/npc/npc-actions/remove.js":
/*!***************************************!*\
  !*** ./src/npc/npc-actions/remove.js ***!
  \***************************************/
/*! exports provided: removeNpc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeNpc\", function() { return removeNpc; });\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collision */ \"./src/npc/npc-actions/collision.js\");\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utility-functions */ \"./src/utility-functions.js\");\n/* harmony import */ var _npc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../npc */ \"./src/npc/npc.js\");\n\n\n\n\nfunction removeNpc(x, y, mapId)\n{\n    if (_npc__WEBPACK_IMPORTED_MODULE_2__[\"customNpcs\"][mapId][Object(_utility_functions__WEBPACK_IMPORTED_MODULE_1__[\"coordsToId\"])(x, y)]) delete _npc__WEBPACK_IMPORTED_MODULE_2__[\"customNpcs\"][mapId][Object(_utility_functions__WEBPACK_IMPORTED_MODULE_1__[\"coordsToId\"])(x, y)]\n    if (true)\n    {\n        if (typeof mapId === 'undefined' || mapId === Engine.map.d.id)\n        {\n            const id = Object(_utility_functions__WEBPACK_IMPORTED_MODULE_1__[\"coordsToId\"])(x, y)\n            if (Engine.npcs.getById(id)) Engine.npcs.removeOne(id)\n        }\n    }\n    else\n    {}\n    Object(_collision__WEBPACK_IMPORTED_MODULE_0__[\"removeCollision\"])(x, y)\n}\n\n\n//# sourceURL=webpack:///./src/npc/npc-actions/remove.js?");

/***/ }),

/***/ "./src/npc/npc-time.js":
/*!*****************************!*\
  !*** ./src/npc/npc-time.js ***!
  \*****************************/
/*! exports provided: isNpcDeployable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNpcDeployable\", function() { return isNpcDeployable; });\nfunction validateTime(npc)\n{\n    if (!npc.time)\n        return true\n\n    const start = parseTimeStrToDate(npc.time.split('-')[0])\n    const end = parseTimeStrToDate(npc.time.split('-')[1])\n    const now = new Date()\n    if (start > end)\n        return start <= now || now <= end\n    return start <= now && now <= end\n}\n\nfunction parseTimeStrToDate(timeStr)\n{\n    timeStr = timeStr.split(':')\n    const date = new Date()\n    date.setHours(timeStr[0], timeStr[1] || 0)\n    return date\n}\n\nfunction validateDays(npc)\n{\n    if (!npc.days)\n        return true\n\n    const day_of_week = new Date().getDay()\n    return npc.days.indexOf(day_of_week) > -1\n}\n\nfunction parseStrToDate(date_str) //DD.MM.YYYY\n{\n    date_str = date_str.split('.')\n    const date = new Date()\n    const day = date_str[0] || date.getDay()\n    const month = date_str[1] ? parseInt(date_str[1]) - 1 : date.getMonth() //month 0-11\n    const year = date_str[2] || date.getFullYear()\n    date.setFullYear(year, month, day)\n    return date\n}\n\nfunction validateDate(npc)\n{\n    if (!npc.date)\n        return true\n\n    const begin = parseStrToDate(npc.date.split('-')[0])\n    const end = parseStrToDate(npc.date.split('-')[1])\n\n    const now = new Date()\n    if (begin > end)\n        begin.setTime(begin.getTime() - 31556952000) //1 year prior, for winter dates for example 21.11-20.03\n\n    return begin <= now && now <= end\n}\n\nfunction isNpcDeployable(npc)\n{\n    return validateTime(npc)\n        && validateDays(npc)\n        && validateDate(npc)\n}\n\n//# sourceURL=webpack:///./src/npc/npc-time.js?");

/***/ }),

/***/ "./src/npc/npc.js":
/*!************************!*\
  !*** ./src/npc/npc.js ***!
  \************************/
/*! exports provided: customNpcs, Npc, initNpcManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"customNpcs\", function() { return customNpcs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Npc\", function() { return Npc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initNpcManager\", function() { return initNpcManager; });\n/* harmony import */ var _npc_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./npc-time */ \"./src/npc/npc-time.js\");\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../game-integration/loaders */ \"./src/game-integration/loaders.js\");\n/* harmony import */ var _npc_actions_hide__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./npc-actions/hide */ \"./src/npc/npc-actions/hide.js\");\n/* harmony import */ var _npc_actions_change__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./npc-actions/change */ \"./src/npc/npc-actions/change.js\");\n/* harmony import */ var _npc_actions_add__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./npc-actions/add */ \"./src/npc/npc-actions/add.js\");\n/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dialog */ \"./src/npc/dialog.js\");\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utility-functions */ \"./src/utility-functions.js\");\n\n\n\n\n\n\n\n\nconst customNpcs = {\n    default: []\n}\n\nfunction resolveUrl(url)\n{\n    if (url.startsWith('#'))\n        return \"http://localhost/nerthusaddon/\" + url.slice(1)\n    return url\n}\n\nfunction Npc(x, y, url, nick, collision, dialog)\n{\n    this.x = parseInt(x)\n    this.y = parseInt(y)\n\n    this.id = Object(_utility_functions__WEBPACK_IMPORTED_MODULE_6__[\"coordsToId\"])(x, y)\n\n    this.nick = nick\n    this.type = this.nick === '' ? 4 : 0\n\n    this.icon = resolveUrl(url)\n\n    this.update = function(){}\n    this.actions = 0\n    this.grp = 0\n    this.wt = 0\n\n    this.collision = collision\n    this.dialog = dialog\n}\n\n\nfunction deploy(npc)\n{\n    if (!Object(_npc_time__WEBPACK_IMPORTED_MODULE_0__[\"isNpcDeployable\"])(npc)) return 1\n    switch (npc.type)\n    {\n        case 'delete':\n        {\n            if (!Object(_npc_actions_hide__WEBPACK_IMPORTED_MODULE_2__[\"isNpcHidable\"])(npc))\n                return\n            return Object(_npc_actions_hide__WEBPACK_IMPORTED_MODULE_2__[\"hideGameNpc\"])(npc.id, npc.lvl === 0)\n        }\n        case 'change':\n        {\n            return Object(_npc_actions_change__WEBPACK_IMPORTED_MODULE_3__[\"changeGameNpc\"])(npc)\n        }\n        default:\n        {\n            const tip = typeof npc.tip === 'string' ? npc.tip : '<b>' + npc.name + '</b>'\n            const customNpc = new Npc(npc.x, npc.y, npc.url, tip, npc.collision, npc.dialog)\n            return Object(_npc_actions_add__WEBPACK_IMPORTED_MODULE_4__[\"addNpc\"])(customNpc)\n        }\n    }\n}\n\nfunction loadNpcsFromFile(url)\n{\n    $.getJSON(url, function (npcs)\n    {\n        if (npcs) npcs.forEach(deploy)\n    })\n}\n\nfunction loadNpcs()\n{\n    if (true)\n    {\n        if ({\"npc\":[1,11,15,16,169,1838,1975,2,2520,257,2663,2887,290,291,330,35,361,37,38,574,8,864],\"lights\":[1,10,1058,1059,11,114,1141,115,12,121,128,137,2,2029,2056,2063,2064,214,222,223,226,244,2520,262,2887,33,344,347,35,36,368,37,38,4,500,574,575,589,630,631,632,727,730,731,8,84,845,9]}.npc.includes(Engine.map.d.id))\n            loadNpcsFromFile(\"http://localhost/nerthusaddon/\" + 'res/configs/npcs/' + Engine.map.d.id + '.json')\n\n        for (const npcId in customNpcs[Engine.map.d.id])\n        {\n            Object(_npc_actions_add__WEBPACK_IMPORTED_MODULE_4__[\"addNpc\"])(customNpcs[Engine.map.d.id][npcId])\n        }\n    }\n    else\n    {}\n    customNpcs.default.forEach(_npc_actions_add__WEBPACK_IMPORTED_MODULE_4__[\"addNpc\"])\n}\n\n\nfunction initNpcManager()\n{\n    Object(_dialog__WEBPACK_IMPORTED_MODULE_5__[\"initNpcDialog\"])()\n    Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_1__[\"loadOnEveryMap\"])(function ()\n    {\n        if (false)\n        {}\n        loadNpcs()\n        _npc_actions_hide__WEBPACK_IMPORTED_MODULE_2__[\"customHiddenNpcs\"].forEach(_npc_actions_hide__WEBPACK_IMPORTED_MODULE_2__[\"hideGameNpc\"])\n    })\n}\n\n\n//# sourceURL=webpack:///./src/npc/npc.js?");

/***/ }),

/***/ "./src/permissions.js":
/*!****************************!*\
  !*** ./src/permissions.js ***!
  \****************************/
/*! exports provided: PERMISSION_LVL, checkPermissionLvl, hasNarrationRights */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PERMISSION_LVL\", function() { return PERMISSION_LVL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkPermissionLvl\", function() { return checkPermissionLvl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasNarrationRights\", function() { return hasNarrationRights; });\n/* harmony import */ var _res_configs_permissions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../res/configs/permissions */ \"./res/configs/permissions.json\");\nvar _res_configs_permissions__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../res/configs/permissions */ \"./res/configs/permissions.json\", 1);\n\n/*\n    0: normal player\n    1: narrator\n    2: councilor (radny)\n    100: dev or other special reason\n */\nconst PERMISSION_LVL = {DEFAULT: 0, NARRATOR: 1, COUNCILOR: 2, SPECIAL: 100}\n\nfunction checkPermissionLvl(nick)\n{\n    if (_res_configs_permissions__WEBPACK_IMPORTED_MODULE_0__.radny.indexOf(nick) >= 0) return PERMISSION_LVL.COUNCILOR\n    if (_res_configs_permissions__WEBPACK_IMPORTED_MODULE_0__.narrator.indexOf(nick) >= 0) return PERMISSION_LVL.NARRATOR\n    if (_res_configs_permissions__WEBPACK_IMPORTED_MODULE_0__.special.indexOf(nick) >= 0) return PERMISSION_LVL.SPECIAL\n    return PERMISSION_LVL.DEFAULT\n}\n\nfunction hasNarrationRights(nick)\n{\n    return checkPermissionLvl(nick) > PERMISSION_LVL.DEFAULT\n}\n\n\n//# sourceURL=webpack:///./src/permissions.js?");

/***/ }),

/***/ "./src/settings.js":
/*!*************************!*\
  !*** ./src/settings.js ***!
  \*************************/
/*! exports provided: settings, saveSetting, loadSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"settings\", function() { return settings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveSetting\", function() { return saveSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadSettings\", function() { return loadSettings; });\nconst settings = {'night': true, 'weather': true, 'zodiac': true, 'hideNpcs': false}\n\nfunction saveSetting(name, value)\n{\n    settings[name] = value\n    localStorage.nerthus_options = JSON.stringify(settings)\n}\n\n\nfunction loadSettings()\n{\n    if (localStorage.nerthus_options)\n    {\n        const loadedSettings = JSON.parse(localStorage.nerthus_options)\n        for (const opt in loadedSettings)\n            settings[opt] = loadedSettings[opt]\n    }\n    return settings\n}\n\n\n//# sourceURL=webpack:///./src/settings.js?");

/***/ }),

/***/ "./src/time.js":
/*!*********************!*\
  !*** ./src/time.js ***!
  \*********************/
/*! exports provided: SEASON, getCurrentSeason */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SEASON\", function() { return SEASON; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentSeason\", function() { return getCurrentSeason; });\nconst SEASON = Object.freeze({SPRING: 'spring', SUMMER: 'summer', AUTUMN: 'autumn', WINTER: 'winter'})\n\n//TODO implement this file in other places\n\nfunction getCurrentSeason()\n{\n    function makeStartDate(day, month)\n    {\n        const date = new Date()\n        date.setUTCDate(day)\n        date.setUTCMonth(month - 1)\n        return date\n    }\n\n    const date = new Date()\n    const SPRING_BEGIN = makeStartDate(21, 3)\n    const SUMMER_BEGIN = makeStartDate(22, 6)\n    const AUTUMN_BEGIN = makeStartDate(23, 9)\n    const WINTER_BEGIN = makeStartDate(22, 11) //long winter\n\n    if (date >= WINTER_BEGIN)\n        return SEASON.WINTER\n    if (date >= AUTUMN_BEGIN)\n        return SEASON.AUTUMN\n    if (date >= SUMMER_BEGIN)\n        return SEASON.SUMMER\n    if (date >= SPRING_BEGIN)\n        return SEASON.SPRING\n    return SEASON.WINTER\n}\n\n\n//# sourceURL=webpack:///./src/time.js?");

/***/ }),

/***/ "./src/utility-functions.js":
/*!**********************************!*\
  !*** ./src/utility-functions.js ***!
  \**********************************/
/*! exports provided: coordsToId, resolveNerthusUrl, pseudoRandom, isMapOutdoor, isCurrentMapOutdoor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"coordsToId\", function() { return coordsToId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolveNerthusUrl\", function() { return resolveNerthusUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pseudoRandom\", function() { return pseudoRandom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMapOutdoor\", function() { return isMapOutdoor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isCurrentMapOutdoor\", function() { return isCurrentMapOutdoor; });\n/* harmony import */ var _res_configs_map_exceptions_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../res/configs/map-exceptions.json */ \"./res/configs/map-exceptions.json\");\nvar _res_configs_map_exceptions_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../res/configs/map-exceptions.json */ \"./res/configs/map-exceptions.json\", 1);\n\n\n/**\n * Function that takes coordinates and turns them to nerthus-specific ID.\n * NI requires such id in several cases, and really big number makes sure,\n * that (game npcs usually have id's that are few millions lower than that)\n * @param {number} x\n * @param {number} y\n * @returns {number}\n */\nfunction coordsToId(x, y)\n{\n    return 50000000 + (x * 1000) + y\n}\n\nfunction resolveNerthusUrl(url)\n{\n    return url.replace(/^#/, \"http://localhost/nerthusaddon/\")\n}\n\nfunction pseudoRandom(seed)\n{\n    seed = (seed * 9301 + 49297) % 233280\n    return seed / 233280\n}\n\nfunction isMapOutdoor(map)\n{\n    return !!((map.mainid === 0 && !_res_configs_map_exceptions_json__WEBPACK_IMPORTED_MODULE_0__.indoor.includes(map.id))\n        || _res_configs_map_exceptions_json__WEBPACK_IMPORTED_MODULE_0__.outdoor.includes(map.id)\n    )\n}\n\nfunction isCurrentMapOutdoor() {\n    if (true)\n    {\n        return isMapOutdoor(Engine.map.d)\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/utility-functions.js?");

/***/ }),

/***/ "./src/weather/effects.js":
/*!********************************!*\
  !*** ./src/weather/effects.js ***!
  \********************************/
/*! exports provided: clearEffects, displayRain, displaySnow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearEffects\", function() { return clearEffects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayRain\", function() { return displayRain; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displaySnow\", function() { return displaySnow; });\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game-integration/loaders */ \"./src/game-integration/loaders.js\");\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility-functions */ \"./src/utility-functions.js\");\n\n\n\nconst rainEffectId = Object(_utility_functions__WEBPACK_IMPORTED_MODULE_1__[\"coordsToId\"])(-1, -1)\nconst snowEffectId = Object(_utility_functions__WEBPACK_IMPORTED_MODULE_1__[\"coordsToId\"])(-1, -2)\n\nconst rainFrames = []\nconst snowFrames = []\nif (true)\n{\n    for (let i = 0; i < 3; i++)\n    {\n        rainFrames[i] = new Image()\n        rainFrames[i].src = \"http://localhost/nerthusaddon/\" + `res/img/weather/rain-frame-${i}.png`\n    }\n\n    for (let i = 0; i < 5; i++)\n    {\n        snowFrames[i] = new Image()\n        snowFrames[i].src = \"http://localhost/nerthusaddon/\" + `res/img/weather/snow-frame-${i}.png`\n    }\n}\nconst currentFrame = {\n    'rain': 0,\n    'snow': 0\n}\nlet rainInterval\nlet snowInterval\n\nfunction getWeatherNiObject(type, opacity)\n{\n    let frames\n    if (type === 'rain') frames = rainFrames\n    else if (type === 'snow') frames = snowFrames\n\n    return {\n        draw: function (e)\n        {\n            const img = frames[currentFrame[type]]\n\n            //check if img has been loaded correctly to not stop entire game in case of error\n            if (img.complete && img.naturalWidth !== 0)\n            {\n                const pattern = e.createPattern(img, 'repeat')\n                const style = e.fillStyle\n                const alpha = e.globalAlpha\n                e.fillStyle = pattern\n                e.globalAlpha = opacity\n                e.translate(0 - Engine.map.offset[0], 0 - Engine.map.offset[1])\n                e.fillRect(0, 0, Engine.map.width, Engine.map.height)\n                e.translate(Engine.map.offset[0], Engine.map.offset[1])\n                e.fillStyle = style\n                e.globalAlpha = alpha\n            }\n        },\n        getOrder: function ()\n        {\n            return 930\n        },\n        update: function () {},\n        d: {},\n        updateDATA: function () {}\n    }\n}\n\n\nfunction clearEffects()\n{\n    if (true)\n    {\n        if (Engine.npcs.getById(rainEffectId)) Engine.npcs.updateData({[rainEffectId]: {del: true}})\n        if (Engine.npcs.getById(snowEffectId)) Engine.npcs.updateData({[snowEffectId]: {del: true}})\n    }\n    else\n    {}\n}\n\nfunction displayRain(opacity)\n{\n    if (true)\n    {\n        if (rainInterval) clearInterval(rainInterval)\n        rainInterval = setInterval(function ()\n        {\n            currentFrame.rain += 1\n            if (currentFrame.rain === 3) currentFrame.rain = 0\n        }, 100)\n        Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_0__[\"addToNiDrawList\"])(getWeatherNiObject('rain', opacity), rainEffectId)\n    }\n    else\n    {}\n\n}\n\nfunction displaySnow(opacity)\n{\n    if (true)\n    {\n        if (snowInterval) clearInterval(snowInterval)\n        snowInterval = setInterval(function ()\n        {\n            currentFrame.snow += 1\n            if (currentFrame.snow === 5) currentFrame.snow = 0\n        }, 400)\n        Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_0__[\"addToNiDrawList\"])(getWeatherNiObject('snow', opacity), snowEffectId)\n    }\n    else\n    {}\n}\n\n\n//# sourceURL=webpack:///./src/weather/effects.js?");

/***/ }),

/***/ "./src/weather/noise.js":
/*!******************************!*\
  !*** ./src/weather/noise.js ***!
  \******************************/
/*! exports provided: Simple1DNoise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Simple1DNoise\", function() { return Simple1DNoise; });\nfunction Simple1DNoise(seed)\n{\n    seed = seed || 2019\n    const MAX_VERTICES = 256\n    const MAX_VERTICES_MASK = MAX_VERTICES - 1\n    let amplitude = 1\n    let scale = 0.21\n\n    let r = []\n\n    function Random(seed)\n    {\n        this._seed = seed % 2147483647\n        if (this._seed <= 0) this._seed += 2147483646\n\n        this.next = function next()\n        {\n            return this._seed = this._seed * 16807 % 2147483647\n        }\n        this.getFloat = function ()\n        {\n            return (this.next() - 1) / 2147483646\n        }\n    }\n\n    const rand = new Random(seed)\n    for (let i = 0; i < MAX_VERTICES; ++i)\n        r.push(rand.getFloat())\n\n    function getVal(x)\n    {\n        const scaledX = x * scale\n        const xFloor = Math.floor(scaledX)\n        const t = scaledX - xFloor\n        const tRemapSmoothstep = t * t * (3 - 2 * t)\n\n        const xMin = xFloor % MAX_VERTICES_MASK\n        const xMax = (xMin + 1) % MAX_VERTICES_MASK\n\n        const y = lerp(r[xMin], r[xMax], tRemapSmoothstep)\n\n        return y * amplitude\n    }\n\n    /**\n     * Linear interpolation function.\n     * @param a The lower integer value\n     * @param b The upper integer value\n     * @param t The value between the two\n     * @returns {number}\n     */\n    function lerp(a, b, t)\n    {\n        return a * (1 - t) + b * t\n    }\n\n    // return the API\n    return {\n        getVal: getVal,\n        setAmplitude: function (newAmplitude)\n        {\n            amplitude = newAmplitude\n        },\n        setScale: function (newScale)\n        {\n            scale = newScale\n        }\n    }\n}\n\n/**\n * Modified version of 1d noise from Michael Bromley:\n *\n * The MIT License (MIT)\n * Copyright (c) 2014 Michael Bromley\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n\n//# sourceURL=webpack:///./src/weather/noise.js?");

/***/ }),

/***/ "./src/weather/weather.js":
/*!********************************!*\
  !*** ./src/weather/weather.js ***!
  \********************************/
/*! exports provided: getWeather, setWeather, initWeather */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWeather\", function() { return getWeather; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setWeather\", function() { return setWeather; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initWeather\", function() { return initWeather; });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _noise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./noise */ \"./src/weather/noise.js\");\n/* harmony import */ var _widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets */ \"./src/widgets.js\");\n/* harmony import */ var _res_descriptions_weather_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../res/descriptions/weather.json */ \"./res/descriptions/weather.json\");\nvar _res_descriptions_weather_json__WEBPACK_IMPORTED_MODULE_3___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../res/descriptions/weather.json */ \"./res/descriptions/weather.json\", 1);\n/* harmony import */ var _effects__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./effects */ \"./src/weather/effects.js\");\n/* harmony import */ var _res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../res/configs/climates.json */ \"./res/configs/climates.json\");\nvar _res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../res/configs/climates.json */ \"./res/configs/climates.json\", 1);\n/* harmony import */ var _utility_functions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utility-functions */ \"./src/utility-functions.js\");\n/* harmony import */ var _game_integration_loaders__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../game-integration/loaders */ \"./src/game-integration/loaders.js\");\n/* harmony import */ var _night_night__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../night/night */ \"./src/night/night.js\");\n\n\n\n\n\n\n\n\n\n\nconst CHARACTERISTIC = Object.freeze({HUMIDITY: 'humidity', CLOUDINESS: 'cloudiness', TEMPERATURE: 'temperature'})\n\nconst climateNoises = {\n    [CHARACTERISTIC.HUMIDITY]: {},\n    [CHARACTERISTIC.CLOUDINESS]: {},\n    [CHARACTERISTIC.TEMPERATURE]: {}\n}\n\nlet $widget\n\n\nfunction getClimateNoise(climate, type)\n{\n    if (!climate) climate = 'default'\n    if (!climateNoises[type][climate])\n    {\n        let multiplier\n        switch (type)\n        {\n            case CHARACTERISTIC.HUMIDITY:\n                multiplier = 42\n                break\n            case CHARACTERISTIC.CLOUDINESS:\n                multiplier = 666\n                break\n            case CHARACTERISTIC.TEMPERATURE:\n                multiplier = 2020\n                break\n        }\n        climateNoises[type][climate] = new _noise__WEBPACK_IMPORTED_MODULE_1__[\"Simple1DNoise\"](_res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5__.seeds[climate] * multiplier)\n    }\n    return climateNoises[type][climate]\n}\n\nfunction getMapsClimate(mapId)\n{\n    for (const climateName in _res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5__.maps)\n        if (_res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5__.maps[climateName].indexOf(mapId) >= 0)\n            return climateName\n    return false\n}\n\nfunction getClimateVariation(characteristic, date, climate)\n{\n    if (!characteristic[climate]) climate = 'default'\n\n    const now = new Date()\n    const start = new Date(now.getFullYear(), 3, 20) // start of spring\n    if (start > now) start.setUTCFullYear(now.getFullYear() - 1)\n    const day = Math.ceil((now - start) / (1000 * 60 * 60 * 24))\n    const firstSeason = Math.floor(day / 90)\n    const secondSeason = firstSeason === 3 ? 0 : firstSeason + 1\n    return characteristic[climate][firstSeason] * (1 - ((day / 90) - firstSeason)) +\n        characteristic[climate][secondSeason] * ((day / 90) - firstSeason)\n}\n\nfunction getClimateCloudiness(date, climate)\n{\n    const pointInTime = date.getTime() / 3600000\n\n    const ret = getClimateNoise(climate, CHARACTERISTIC.CLOUDINESS).getVal(pointInTime) *\n        getClimateVariation(_res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5__.characteristics.cloudiness, date, climate)\n\n    return ret > 1 ? 1 : ret\n}\n\nfunction getClimateHumidity(date, climate)\n{\n    const pointInTime = date.getTime() / 3600000\n\n    const ret = getClimateNoise(climate, CHARACTERISTIC.HUMIDITY).getVal(pointInTime) *\n        getClimateVariation(_res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5__.characteristics.humidity, date, climate)\n\n    return ret > 1 ? 1 : ret\n}\n\nfunction getGlobalTemperature(date, climate)\n{\n    const month = date.getUTCMonth()\n    const day = date.getUTCDate()\n\n    // f(x) = 15 * Math.sin(0.52 * x - 1.5) + 9 is a graph that resembles average temperature graph in poland\n    // https://en.climate-data.org/north-america/united-states-of-america/ohio/poland-137445/#climate-graph\n    const x = month + (day / 31) //minor difference in 28 day month probably not noticeable\n    const dayTemperature = 15 * Math.sin(0.52 * x - 1.5) + 9\n\n    const pointInTime = date.getTime() / 3600000\n    const hourTemperatureChange = getClimateNoise(climate, CHARACTERISTIC.TEMPERATURE).getVal(pointInTime) * 14 - 7\n\n    return dayTemperature + hourTemperatureChange\n}\n\n\nfunction getClimateTemperature(date, climate)\n{\n    return getGlobalTemperature(date, climate) + getClimateVariation(_res_configs_climates_json__WEBPACK_IMPORTED_MODULE_5__.characteristics.temperature, date, climate)\n}\n\nfunction getCurrentRegionCharacteristic(date) // todo naming???\n{\n    let humidity = 0\n    let cloudiness = 0\n    let temperature = 0\n    const adjacentClimates = []\n    const gatewaysIds = []\n    let currentMapClimate\n    if (true)\n    {\n        for (let mapId in Engine.map.gateways.townnames)\n        {\n            mapId = parseInt(mapId)\n            const mapClimate = getMapsClimate(mapId)\n            if (mapClimate && gatewaysIds.indexOf(mapId) < 0)\n            {\n                adjacentClimates.push(mapClimate)\n                gatewaysIds.push(mapId)\n            }\n        }\n        currentMapClimate = getMapsClimate(Engine.map.d.id)\n    }\n    else\n    {}\n\n    let adjacentHumidity = 0\n    let adjacentCloudiness = 0\n    let adjacentTemperature = 0\n    const adjacentAmount = adjacentClimates.length\n\n    if (adjacentAmount === 0 && !currentMapClimate && !Object(_utility_functions__WEBPACK_IMPORTED_MODULE_6__[\"isCurrentMapOutdoor\"])()) return false\n    else if (adjacentAmount > 0)\n    {\n        for (let i = 0; i < adjacentAmount; i++)\n        {\n            adjacentHumidity += getClimateHumidity(date, adjacentClimates[i])\n            adjacentCloudiness += getClimateCloudiness(date, adjacentClimates[i])\n            adjacentTemperature += getClimateTemperature(date, adjacentClimates[i])\n        }\n        adjacentHumidity /= adjacentAmount\n        adjacentCloudiness /= adjacentAmount\n        adjacentTemperature /= adjacentAmount\n\n        if (currentMapClimate)\n        {\n            humidity = 0.5 * getClimateHumidity(date, currentMapClimate) + 0.5 * adjacentHumidity\n            cloudiness = 0.5 * getClimateCloudiness(date, currentMapClimate) + 0.5 * adjacentCloudiness\n            temperature = 0.5 * getClimateTemperature(date, currentMapClimate) + 0.5 * adjacentTemperature\n        }\n        else\n        {\n            humidity = adjacentHumidity\n            cloudiness = adjacentCloudiness\n            temperature = adjacentTemperature\n        }\n    }\n    else\n    {\n        humidity = getClimateHumidity(date, currentMapClimate)\n        cloudiness = getClimateCloudiness(date, currentMapClimate)\n        temperature = getClimateTemperature(date, currentMapClimate)\n    }\n\n    return {\n        [CHARACTERISTIC.HUMIDITY]: humidity,\n        [CHARACTERISTIC.CLOUDINESS]: cloudiness,\n        [CHARACTERISTIC.TEMPERATURE]: temperature\n    }\n}\n\n/**\n * Table holding names of weathers based on cloudiness and humidity thresholds.\n * First variable (rows) is cloudiness and second (columns) is humidity\n * There should be 52.5% to get a value without any rain if both variables are random.\n * @type {string[][]}\n */\nconst WEATHER_TABLE =\n    [   //   15%             20%               25%           40%\n        ['clear-day', 'day-cloud-small', 'day-cloud-big', 'overcast'  ], // 25%\n        ['clear-day', 'day-cloud-small', 'day-cloud-big', 'rain-light'], // 25%\n        ['clear-day', 'day-cloud-small', 'day-rain'     , 'rain'      ], // 25%\n        ['clear-day', 'day-rain'       , 'day-storm'    , 'storm'     ]  // 25%\n    ]\n\nconst RAIN_STRENGTH = {\n    'rain-light': 0.5,\n    'day-rain': 0.6,\n    'day-storm': 1,\n    'rain': 0.9,\n    'storm': 1\n}\n\nconst SNOW_STRENGTH = {\n    'day-snow': 1,\n    'day-rain-with-snow': 1,\n    'snow': 1,\n    'snow-storm': 1\n}\n\nconst CLOUDS_STRENGTH = {\n    'day-cloud-small': 0.1,\n    'rain-light': 0.1,\n    'day-cloud-big': 0.15,\n    'day-rain': 0.15,\n    'rain': 0.15,\n    'day-storm': 0.15,\n    'overcast': 0.2,\n    'storm': 0.2\n}\n\n\nfunction getWeather(date)\n{\n    const characteristics = getCurrentRegionCharacteristic(date)\n    if (characteristics)\n    {\n        if (characteristics.temperature > 25) // really hot, less cloudiness and humidity\n        {\n            characteristics.cloudiness *= 0.8\n            characteristics.humidity *= 0.8\n        }\n\n        let cloudinessPart\n        if (characteristics.cloudiness <= 0.15) cloudinessPart = 0\n        else if (characteristics.cloudiness <= 0.35) cloudinessPart = 1\n        else if (characteristics.cloudiness <= 0.60) cloudinessPart = 2\n        else cloudinessPart = 3\n\n        let humidityPart\n        if (characteristics.humidity <= 0.25) humidityPart = 0\n        else if (characteristics.humidity <= 0.50) humidityPart = 1\n        else if (characteristics.humidity <= 0.75) humidityPart = 2\n        else humidityPart = 3\n\n        let weather = WEATHER_TABLE[cloudinessPart][humidityPart]\n\n        if (characteristics.temperature < -3)\n            weather = weather\n                .replace('rain', 'snow')\n                .replace(/^storm$/, 'snow-storm')\n                .replace(/^day-storm$/, 'day-snow')\n        else if (characteristics.temperature < 5)\n            weather = weather\n                .replace('rain', 'rain-with-snow')\n                .replace(/^day-storm$/, 'day-rain-with-snow')\n\n        let rain = 0\n        if (RAIN_STRENGTH[weather]) rain = RAIN_STRENGTH[weather]\n\n        let snow = 0\n        if (SNOW_STRENGTH[weather]) snow = SNOW_STRENGTH[weather]\n\n        if (date.getHours() < 6 || date.getHours() > 20)\n            weather = weather.replace('day', 'night')\n\n        return {\n            name: weather,\n            rainStrength: rain,\n            snowStrength: snow,\n            temperature: characteristics.temperature,\n            humidity: characteristics.humidity,\n            cloudiness: characteristics.cloudiness\n        }\n    }\n    else return 'indoor'\n}\n\nfunction displayWeatherEffects(weather = getWeather(new Date()))\n{\n    Object(_effects__WEBPACK_IMPORTED_MODULE_4__[\"clearEffects\"])()\n    if (weather === 'indoor')\n    {\n        $widget.css('display', 'none')\n        Object(_night_night__WEBPACK_IMPORTED_MODULE_8__[\"setOpacityChange\"])(0)\n    }\n    else\n    {\n        $widget.css('display', 'flex')\n            .children('.nerthus__widget-image')\n            .css('background-image', 'url(' + \"http://localhost/nerthusaddon/\" + 'res/img/weather/icons/' + weather.name + '.png)')\n\n        const descId = Math.floor(Math.random() * _res_descriptions_weather_json__WEBPACK_IMPORTED_MODULE_3__[weather.name].length)\n        $widget.children('.nerthus__widget-desc')\n            .text(_res_descriptions_weather_json__WEBPACK_IMPORTED_MODULE_3__[weather.name][descId])\n\n        if (Object(_utility_functions__WEBPACK_IMPORTED_MODULE_6__[\"isCurrentMapOutdoor\"])())\n        {\n            if (weather.rainStrength) Object(_effects__WEBPACK_IMPORTED_MODULE_4__[\"displayRain\"])(weather.rainStrength)\n            if (weather.snowStrength) Object(_effects__WEBPACK_IMPORTED_MODULE_4__[\"displaySnow\"])(weather.snowStrength)\n        }\n        Object(_night_night__WEBPACK_IMPORTED_MODULE_8__[\"setOpacityChange\"])(CLOUDS_STRENGTH[weather.name.replace('night', 'day')])\n    }\n}\n\nfunction setWeather(weatherName)\n{\n    if (true)\n    {\n        Engine.weather.onClear()\n    }\n    else\n    {}\n    if (['fish', 'light', 'latern', 'bat'].includes(weatherName))\n    {\n        $widget.css('display', 'none')\n        Object(_effects__WEBPACK_IMPORTED_MODULE_4__[\"clearEffects\"])()\n\n        if (true)\n        {\n            const uppercaseWeatherName = weatherName.charAt(0).toUpperCase() + weatherName.slice(1)\n            Engine.weather.createWeather(uppercaseWeatherName)\n        }\n        else\n        {}\n    }\n    else if (_res_descriptions_weather_json__WEBPACK_IMPORTED_MODULE_3__[weatherName]) displayWeatherEffects({\n        name: weatherName,\n        rainStrength: RAIN_STRENGTH[weatherName],\n        snowStrength: SNOW_STRENGTH[weatherName]\n    })\n    else displayWeatherEffects()\n}\n\nfunction startChangeTimer()\n{\n    const date = new Date()\n    const hour = Math.floor((date.getUTCHours()) + 1)\n    date.setUTCHours(hour, 0, 0)\n    const timeout = date - new Date()\n    setTimeout(function ()\n    {\n        displayWeatherEffects()\n        startChangeTimer()\n    }, timeout)\n}\n\nfunction initWeather()\n{\n    if (_settings__WEBPACK_IMPORTED_MODULE_0__[\"settings\"].weather)\n    {\n        $widget = Object(_widgets__WEBPACK_IMPORTED_MODULE_2__[\"addWidget\"])('weather')\n        Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_7__[\"loadOnEveryMap\"])(displayWeatherEffects)\n        startChangeTimer()\n\n        Object(_game_integration_loaders__WEBPACK_IMPORTED_MODULE_7__[\"loadOnEveryMap\"])(function ()\n        {\n            for (let i = 0; i < 20; i++)\n            {\n                let date = new Date().getTime()\n                date += 1000 * 60 * 60 * i\n                let newDate = new Date(date)\n                console.log(getWeather(newDate))\n            }\n        })\n    }\n}\n\n\n//# sourceURL=webpack:///./src/weather/weather.js?");

/***/ }),

/***/ "./src/widgets.js":
/*!************************!*\
  !*** ./src/widgets.js ***!
  \************************/
/*! exports provided: addWidget, initWidgets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addWidget\", function() { return addWidget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initWidgets\", function() { return initWidgets; });\nlet $widgetsContainer\n\nfunction addWidget(name, imageUrl, description)\n{\n    return $(\n        '<div id=\"' + name + '-widget\" class=\"nerthus__widget\">' +\n        '<div class=\"nerthus__widget-image\" style=\"background-image: url(' + imageUrl + ')\"></div>' +\n        '<div class=\"nerthus__widget-desc\">' + description + '</div>' +\n        '</div>'\n    ).appendTo($widgetsContainer)\n}\n\n\nfunction initWidgets()\n{\n    let $parentElement\n    if (true)\n    {\n        $parentElement = $('.layer.interface-layer')\n    }\n    else\n    {}\n    $widgetsContainer = $('<div id=\"nerthus-widgets-container\"></div>').appendTo($parentElement)\n}\n\n\n//# sourceURL=webpack:///./src/widgets.js?");

/***/ }),

/***/ "./src/zodiac.js":
/*!***********************!*\
  !*** ./src/zodiac.js ***!
  \***********************/
/*! exports provided: getZodiacSign, initZodiac */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getZodiacSign\", function() { return getZodiacSign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initZodiac\", function() { return initZodiac; });\n/* harmony import */ var _widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./widgets */ \"./src/widgets.js\");\n/* harmony import */ var _res_descriptions_zodiac_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../res/descriptions/zodiac.json */ \"./res/descriptions/zodiac.json\");\nvar _res_descriptions_zodiac_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../res/descriptions/zodiac.json */ \"./res/descriptions/zodiac.json\", 1);\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ \"./src/settings.js\");\n\n\n\n\n/**\n * Zodiac sign dates in format: month: [name, end day]\n */\nconst ZODIAC_SIGN_START_DAY = [\n    ['capricorn', 19],\n    ['aquarius', 18],\n    ['pisces', 20],\n    ['aries', 19],\n    ['taurus', 22],\n    ['gemini', 21],\n    ['cancer', 22],\n    ['leo', 23],\n    ['virgo', 22],\n    ['libra', 22],\n    ['scorpio', 21],\n    ['sagittarius', 21],\n    ['capricorn', 0] // repeat Capricorn for the end of the year\n]\n\n/**\n * @param day\n * @param month - starts at 0\n * @returns string\n */\nfunction getZodiacSign(day, month)\n{\n    if (month === 11 && day < ZODIAC_SIGN_START_DAY[0][1])\n        return ZODIAC_SIGN_START_DAY[0][0]\n    else\n        return (day > ZODIAC_SIGN_START_DAY[month][1])\n            ? ZODIAC_SIGN_START_DAY[month + 1][0]\n            : ZODIAC_SIGN_START_DAY[month][0]\n}\n\nfunction initZodiac()\n{\n    if (_settings__WEBPACK_IMPORTED_MODULE_2__[\"settings\"].zodiac)\n    {\n        const date = new Date()\n        const currentSign = getZodiacSign(date.getUTCDate(), date.getUTCMonth())\n        const $widget = Object(_widgets__WEBPACK_IMPORTED_MODULE_0__[\"addWidget\"])(\n            'zodiac',\n            \"http://localhost/nerthusaddon/\" + 'res/img/zodiac/' + currentSign + '.png',\n            _res_descriptions_zodiac_json__WEBPACK_IMPORTED_MODULE_1__[currentSign][0]\n        )\n        $widget.children('.nerthus__widget-image')\n            .css('cursor', 'pointer')\n            .click(function ()\n            {\n                const $desc = $widget.children('.nerthus__widget-desc')\n                if ($desc.text() === _res_descriptions_zodiac_json__WEBPACK_IMPORTED_MODULE_1__[currentSign][0])\n                    $desc.text(_res_descriptions_zodiac_json__WEBPACK_IMPORTED_MODULE_1__[currentSign][1])\n                else\n                    $desc.text(_res_descriptions_zodiac_json__WEBPACK_IMPORTED_MODULE_1__[currentSign][0])\n            })\n    }\n}\n\n\n//# sourceURL=webpack:///./src/zodiac.js?");

/***/ })

/******/ });